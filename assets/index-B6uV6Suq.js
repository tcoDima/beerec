(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var jc={exports:{}},$o={},bc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function n_(){if(dp)return Te;dp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,K={};function q(x,b,ae){this.props=x,this.context=b,this.refs=K,this.updater=ae||B}q.prototype.isReactComponent={},q.prototype.setState=function(x,b){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,b,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ye(){}ye.prototype=q.prototype;function _e(x,b,ae){this.props=x,this.context=b,this.refs=K,this.updater=ae||B}var ve=_e.prototype=new ye;ve.constructor=_e,W(ve,q.prototype),ve.isPureReactComponent=!0;var Se=Array.isArray,Je=Object.prototype.hasOwnProperty,De={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(x,b,ae){var Ee,we={},Ce=null,Le=null;if(b!=null)for(Ee in b.ref!==void 0&&(Le=b.ref),b.key!==void 0&&(Ce=""+b.key),b)Je.call(b,Ee)&&!D.hasOwnProperty(Ee)&&(we[Ee]=b[Ee]);var Me=arguments.length-2;if(Me===1)we.children=ae;else if(1<Me){for(var Be=Array(Me),pt=0;pt<Me;pt++)Be[pt]=arguments[pt+2];we.children=Be}if(x&&x.defaultProps)for(Ee in Me=x.defaultProps,Me)we[Ee]===void 0&&(we[Ee]=Me[Ee]);return{$$typeof:i,type:x,key:Ce,ref:Le,props:we,_owner:De.current}}function A(x,b){return{$$typeof:i,type:x.type,key:b,ref:x.ref,props:x.props,_owner:x._owner}}function k(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function N(x){var b={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ae){return b[ae]})}var L=/\/+/g;function S(x,b){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):b.toString(36)}function Ze(x,b,ae,Ee,we){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var Le=!1;if(x===null)Le=!0;else switch(Ce){case"string":case"number":Le=!0;break;case"object":switch(x.$$typeof){case i:case e:Le=!0}}if(Le)return Le=x,we=we(Le),x=Ee===""?"."+S(Le,0):Ee,Se(we)?(ae="",x!=null&&(ae=x.replace(L,"$&/")+"/"),Ze(we,b,ae,"",function(pt){return pt})):we!=null&&(k(we)&&(we=A(we,ae+(!we.key||Le&&Le.key===we.key?"":(""+we.key).replace(L,"$&/")+"/")+x)),b.push(we)),1;if(Le=0,Ee=Ee===""?".":Ee+":",Se(x))for(var Me=0;Me<x.length;Me++){Ce=x[Me];var Be=Ee+S(Ce,Me);Le+=Ze(Ce,b,ae,Be,we)}else if(Be=V(x),typeof Be=="function")for(x=Be.call(x),Me=0;!(Ce=x.next()).done;)Ce=Ce.value,Be=Ee+S(Ce,Me++),Le+=Ze(Ce,b,ae,Be,we);else if(Ce==="object")throw b=String(x),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ct(x,b,ae){if(x==null)return x;var Ee=[],we=0;return Ze(x,Ee,"","",function(Ce){return b.call(ae,Ce,we++)}),Ee}function Pt(x){if(x._status===-1){var b=x._result;b=b(),b.then(function(ae){(x._status===0||x._status===-1)&&(x._status=1,x._result=ae)},function(ae){(x._status===0||x._status===-1)&&(x._status=2,x._result=ae)}),x._status===-1&&(x._status=0,x._result=b)}if(x._status===1)return x._result.default;throw x._result}var Ue={current:null},J={transition:null},ue={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:J,ReactCurrentOwner:De};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Ct,forEach:function(x,b,ae){Ct(x,function(){b.apply(this,arguments)},ae)},count:function(x){var b=0;return Ct(x,function(){b++}),b},toArray:function(x){return Ct(x,function(b){return b})||[]},only:function(x){if(!k(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Te.Component=q,Te.Fragment=n,Te.Profiler=a,Te.PureComponent=_e,Te.StrictMode=s,Te.Suspense=y,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Te.act=ee,Te.cloneElement=function(x,b,ae){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var Ee=W({},x.props),we=x.key,Ce=x.ref,Le=x._owner;if(b!=null){if(b.ref!==void 0&&(Ce=b.ref,Le=De.current),b.key!==void 0&&(we=""+b.key),x.type&&x.type.defaultProps)var Me=x.type.defaultProps;for(Be in b)Je.call(b,Be)&&!D.hasOwnProperty(Be)&&(Ee[Be]=b[Be]===void 0&&Me!==void 0?Me[Be]:b[Be])}var Be=arguments.length-2;if(Be===1)Ee.children=ae;else if(1<Be){Me=Array(Be);for(var pt=0;pt<Be;pt++)Me[pt]=arguments[pt+2];Ee.children=Me}return{$$typeof:i,type:x.type,key:we,ref:Ce,props:Ee,_owner:Le}},Te.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},Te.createElement=I,Te.createFactory=function(x){var b=I.bind(null,x);return b.type=x,b},Te.createRef=function(){return{current:null}},Te.forwardRef=function(x){return{$$typeof:m,render:x}},Te.isValidElement=k,Te.lazy=function(x){return{$$typeof:w,_payload:{_status:-1,_result:x},_init:Pt}},Te.memo=function(x,b){return{$$typeof:E,type:x,compare:b===void 0?null:b}},Te.startTransition=function(x){var b=J.transition;J.transition={};try{x()}finally{J.transition=b}},Te.unstable_act=ee,Te.useCallback=function(x,b){return Ue.current.useCallback(x,b)},Te.useContext=function(x){return Ue.current.useContext(x)},Te.useDebugValue=function(){},Te.useDeferredValue=function(x){return Ue.current.useDeferredValue(x)},Te.useEffect=function(x,b){return Ue.current.useEffect(x,b)},Te.useId=function(){return Ue.current.useId()},Te.useImperativeHandle=function(x,b,ae){return Ue.current.useImperativeHandle(x,b,ae)},Te.useInsertionEffect=function(x,b){return Ue.current.useInsertionEffect(x,b)},Te.useLayoutEffect=function(x,b){return Ue.current.useLayoutEffect(x,b)},Te.useMemo=function(x,b){return Ue.current.useMemo(x,b)},Te.useReducer=function(x,b,ae){return Ue.current.useReducer(x,b,ae)},Te.useRef=function(x){return Ue.current.useRef(x)},Te.useState=function(x){return Ue.current.useState(x)},Te.useSyncExternalStore=function(x,b,ae){return Ue.current.useSyncExternalStore(x,b,ae)},Te.useTransition=function(){return Ue.current.useTransition()},Te.version="18.3.1",Te}var pp;function Th(){return pp||(pp=1,bc.exports=n_()),bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function r_(){if(mp)return $o;mp=1;var i=Th(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,E){var w,C={},V=null,B=null;E!==void 0&&(V=""+E),y.key!==void 0&&(V=""+y.key),y.ref!==void 0&&(B=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(C[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)C[w]===void 0&&(C[w]=y[w]);return{$$typeof:e,type:m,key:V,ref:B,props:C,_owner:a.current}}return $o.Fragment=n,$o.jsx=f,$o.jsxs=f,$o}var gp;function i_(){return gp||(gp=1,jc.exports=r_()),jc.exports}var fe=i_(),jl=Th(),Pl={},$c={exports:{}},Wt={},qc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function s_(){return yp||(yp=1,function(i){function e(J,ue){var ee=J.length;J.push(ue);e:for(;0<ee;){var x=ee-1>>>1,b=J[x];if(0<a(b,ue))J[x]=ue,J[ee]=b,ee=x;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ue=J[0],ee=J.pop();if(ee!==ue){J[0]=ee;e:for(var x=0,b=J.length,ae=b>>>1;x<ae;){var Ee=2*(x+1)-1,we=J[Ee],Ce=Ee+1,Le=J[Ce];if(0>a(we,ee))Ce<b&&0>a(Le,we)?(J[x]=Le,J[Ce]=ee,x=Ce):(J[x]=we,J[Ee]=ee,x=Ee);else if(Ce<b&&0>a(Le,ee))J[x]=Le,J[Ce]=ee,x=Ce;else break e}}return ue}function a(J,ue){var ee=J.sortIndex-ue.sortIndex;return ee!==0?ee:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],E=[],w=1,C=null,V=3,B=!1,W=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(J){for(var ue=n(E);ue!==null;){if(ue.callback===null)s(E);else if(ue.startTime<=J)s(E),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=n(E)}}function Se(J){if(K=!1,ve(J),!W)if(n(y)!==null)W=!0,Pt(Je);else{var ue=n(E);ue!==null&&Ue(Se,ue.startTime-J)}}function Je(J,ue){W=!1,K&&(K=!1,ye(I),I=-1),B=!0;var ee=V;try{for(ve(ue),C=n(y);C!==null&&(!(C.expirationTime>ue)||J&&!N());){var x=C.callback;if(typeof x=="function"){C.callback=null,V=C.priorityLevel;var b=x(C.expirationTime<=ue);ue=i.unstable_now(),typeof b=="function"?C.callback=b:C===n(y)&&s(y),ve(ue)}else s(y);C=n(y)}if(C!==null)var ae=!0;else{var Ee=n(E);Ee!==null&&Ue(Se,Ee.startTime-ue),ae=!1}return ae}finally{C=null,V=ee,B=!1}}var De=!1,D=null,I=-1,A=5,k=-1;function N(){return!(i.unstable_now()-k<A)}function L(){if(D!==null){var J=i.unstable_now();k=J;var ue=!0;try{ue=D(!0,J)}finally{ue?S():(De=!1,D=null)}}else De=!1}var S;if(typeof _e=="function")S=function(){_e(L)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Ct=Ze.port2;Ze.port1.onmessage=L,S=function(){Ct.postMessage(null)}}else S=function(){q(L,0)};function Pt(J){D=J,De||(De=!0,S())}function Ue(J,ue){I=q(function(){J(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){W||B||(W=!0,Pt(Je))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(J){switch(V){case 1:case 2:case 3:var ue=3;break;default:ue=V}var ee=V;V=ue;try{return J()}finally{V=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=V;V=J;try{return ue()}finally{V=ee}},i.unstable_scheduleCallback=function(J,ue,ee){var x=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?x+ee:x):ee=x,J){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ee+b,J={id:w++,callback:ue,priorityLevel:J,startTime:ee,expirationTime:b,sortIndex:-1},ee>x?(J.sortIndex=ee,e(E,J),n(y)===null&&J===n(E)&&(K?(ye(I),I=-1):K=!0,Ue(Se,ee-x))):(J.sortIndex=b,e(y,J),W||B||(W=!0,Pt(Je))),J},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(J){var ue=V;return function(){var ee=V;V=ue;try{return J.apply(this,arguments)}finally{V=ee}}}}(Hc)),Hc}var _p;function o_(){return _p||(_p=1,qc.exports=s_()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function a_(){if(vp)return Wt;vp=1;var i=Th(),e=o_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},C={};function V(t){return y.call(C,t)?!0:y.call(w,t)?!1:E.test(t)?C[t]=!0:(w[t]=!0,!1)}function B(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W(t,r,o,u){if(r===null||typeof r>"u"||B(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function K(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){q[t]=new K(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];q[r]=new K(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){q[t]=new K(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q[t]=new K(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){q[t]=new K(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){q[t]=new K(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){q[t]=new K(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){q[t]=new K(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){q[t]=new K(t,5,!1,t.toLowerCase(),null,!1,!1)});var ye=/[\-:]([a-z])/g;function _e(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ye,_e);q[r]=new K(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ye,_e);q[r]=new K(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ye,_e);q[r]=new K(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){q[t]=new K(t,1,!1,t.toLowerCase(),null,!1,!1)}),q.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){q[t]=new K(t,1,!1,t.toLowerCase(),null,!0,!0)});function ve(t,r,o,u){var h=q.hasOwnProperty(r)?q[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(W(r,o,h,u)&&(o=null),u||h===null?V(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Je=Symbol.for("react.element"),De=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,x;function b(t){if(x===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||""}return`
`+x+t}var ae=!1;function Ee(t,r){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,T=p.length-1;1<=_&&0<=T&&h[_]!==p[T];)T--;for(;1<=_&&0<=T;_--,T--)if(h[_]!==p[T]){if(_!==1||T!==1)do if(_--,T--,0>T||h[_]!==p[T]){var R=`
`+h[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=T);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function we(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=Ee(t.type,!1),t;case 11:return t=Ee(t.type.render,!1),t;case 1:return t=Ee(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case De:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ct:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function Le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Gn(t){t._valueTracker||(t._valueTracker=pt(t))}function Mi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jr(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Oi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Gs(t,r){r=r.checked,r!=null&&ve(t,"checked",r,!1)}function Ks(t,r){Gs(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Fi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Fi(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function da(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Fi(t,r,o){(r!=="number"||mr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Kn=Array.isArray;function Xn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Xs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ui(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Kn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function zi(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ys(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?at(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yn,Js=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Yn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ei=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){ei.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Zr[r]=Zr[t]})});function Zs(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+r).trim():r+"px"}function eo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Zs(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var to=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function no(t,r){if(r){if(to[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ro(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function Bi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,on=null,xn=null;function bi(t){if(t=Po(t)){if(typeof ji!="function")throw Error(n(280));var r=t.stateNode;r&&(r=$a(r),ji(t.stateNode,t.type,r))}}function Ln(t){on?xn?xn.push(t):xn=[t]:on=t}function io(){if(on){var t=on,r=xn;if(xn=on=null,bi(t),r)for(t=0;t<r.length;t++)bi(r[t])}}function ni(t,r){return t(r)}function so(){}var Jn=!1;function oo(t,r,o){if(Jn)return t(r,o);Jn=!0;try{return ni(t,r,o)}finally{Jn=!1,(on!==null||xn!==null)&&(so(),io())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=$a(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var $i=!1;if(m)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){$i=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{$i=!1}function ri(t,r,o,u,h,p,_,T,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(Q){this.onError(Q)}}var ii=!1,qi=null,yn=!1,ao=null,mu={onError:function(t){ii=!0,qi=t}};function Hi(t,r,o,u,h,p,_,T,R){ii=!1,qi=null,ri.apply(mu,arguments)}function pa(t,r,o,u,h,p,_,T,R){if(Hi.apply(this,arguments),ii){if(ii){var U=qi;ii=!1,qi=null}else throw Error(n(198));yn||(yn=!0,ao=U)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function si(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(_n(t)!==t)throw Error(n(188))}function ma(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,T=h.child;T;){if(T===o){_=!0,o=h,u=p;break}if(T===u){_=!0,u=h,o=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===o){_=!0,o=p,u=h;break}if(T===u){_=!0,u=p,o=h;break}T=T.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function lo(t){return t=ma(t),t!==null?Qi(t):null}function Qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Qi(t);if(r!==null)return r;t=t.sibling}return null}var Wi=e.unstable_scheduleCallback,uo=e.unstable_cancelCallback,ga=e.unstable_shouldYield,gu=e.unstable_requestPaint,je=e.unstable_now,ya=e.unstable_getCurrentPriorityLevel,oi=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,co=e.unstable_LowPriority,_a=e.unstable_IdlePriority,ai=null,Yt=null;function va(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:wa,ho=Math.log,Ea=Math.LN2;function wa(t){return t>>>=0,t===0?32:31-(ho(t)/Ea|0)|0}var Gi=64,Ki=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function li(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var T=_&~h;T!==0?u=_r(T):(p&=_,p!==0&&(u=_r(p)))}else _=o&~h,_!==0?u=_r(_):p!==0&&(u=_r(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ot(r),h=1<<o,u|=t[o],r&=~h;return u}function yu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ot(p),T=1<<_,R=h[_];R===-1?(!(T&o)||T&u)&&(h[_]=yu(T,r)):R<=r&&(t.expiredLanes|=T),p&=~T}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ui(){var t=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),t}function vr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Er(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ot(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ot(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function wr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ot(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Tr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ta,Xi,Ia,Sa,Aa,fo=!1,Mn=[],Et=null,En=null,wn=null,Ir=new Map,ln=new Map,On=[],_u="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(t,r){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(r.pointerId)}}function Bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Po(r),r!==null&&Xi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function vu(t,r,o,u,h){switch(r){case"focusin":return Et=Bt(Et,t,r,o,u,h),!0;case"dragenter":return En=Bt(En,t,r,o,u,h),!0;case"mouseover":return wn=Bt(wn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,Bt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ln.set(p,Bt(ln.get(p)||null,t,r,o,u,h)),!0}return!1}function Ca(t){var r=pi(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=si(o),r!==null){t.blockedOn=r,Aa(t.priority,function(){Ia(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function er(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Yi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ti=u,o.target.dispatchEvent(u),ti=null}else return r=Po(o),r!==null&&Xi(r),t.blockedOn=o,!1;r.shift()}return!0}function ci(t,r,o){er(t)&&o.delete(r)}function Pa(){fo=!1,Et!==null&&er(Et)&&(Et=null),En!==null&&er(En)&&(En=null),wn!==null&&er(wn)&&(wn=null),Ir.forEach(ci),ln.forEach(ci)}function Tn(t,r){t.blockedOn===r&&(t.blockedOn=null,fo||(fo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pa)))}function In(t){function r(h){return Tn(h,t)}if(0<Mn.length){Tn(Mn[0],t);for(var o=1;o<Mn.length;o++){var u=Mn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Et!==null&&Tn(Et,t),En!==null&&Tn(En,t),wn!==null&&Tn(wn,t),Ir.forEach(r),ln.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)Ca(o),o.blockedOn===null&&On.shift()}var tr=Se.ReactCurrentBatchConfig,Sr=!0;function Qe(t,r,o,u){var h=Ae,p=tr.transition;tr.transition=null;try{Ae=1,po(t,r,o,u)}finally{Ae=h,tr.transition=p}}function Eu(t,r,o,u){var h=Ae,p=tr.transition;tr.transition=null;try{Ae=4,po(t,r,o,u)}finally{Ae=h,tr.transition=p}}function po(t,r,o,u){if(Sr){var h=Yi(t,r,o,u);if(h===null)Du(t,r,u,hi,o),Ra(t,u);else if(vu(h,t,r,o,u))u.stopPropagation();else if(Ra(t,u),r&4&&-1<_u.indexOf(t)){for(;h!==null;){var p=Po(h);if(p!==null&&Ta(p),p=Yi(t,r,o,u),p===null&&Du(t,r,u,hi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Du(t,r,u,null,o)}}var hi=null;function Yi(t,r,o,u){if(hi=null,t=Bi(u),t=pi(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=si(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return hi=t,null}function mo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ya()){case oi:return 1;case yr:return 4;case an:case co:return 16;case _a:return 536870912;default:return 16}default:return 16}}var Zt=null,Ji=null,jt=null;function go(){if(jt)return jt;var t,r=Ji,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return jt=h.slice(t,1<u?1-u:void 0)}function Zi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function yo(){return!1}function wt(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:yo,this.isPropagationStopped=yo,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=wt(Sn),Un=ee({},Sn,{view:0,detail:0}),wu=wt(Un),ts,nr,Ar,fi=ee({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(ts=t.screenX-Ar.screenX,nr=t.screenY-Ar.screenY):nr=ts=0,Ar=t),ts)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),ns=wt(fi),_o=ee({},fi,{dataTransfer:0}),ka=wt(_o),rs=ee({},Un,{relatedTarget:0}),is=wt(rs),Va=ee({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=wt(Va),Da=ee({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=wt(Da),xa=ee({},Sn,{data:0}),vo=wt(xa),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},La={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ma(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=La[t])?!!r[t]:!1}function zn(){return Ma}var l=ee({},Un,{key:function(t){if(t.key){var r=ss[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Zi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?Zi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=wt(l),g=ee({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=wt(g),M=ee({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),z=wt(M),Y=ee({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=wt(Y),ut=ee({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=wt(ut),mt=[9,13,27,32],rt=m&&"CompositionEvent"in window,un=null;m&&"documentMode"in document&&(un=document.documentMode);var en=m&&"TextEvent"in window&&!un,di=m&&(!rt||un&&8<un&&11>=un),os=" ",af=!1;function lf(t,r){switch(t){case"keyup":return mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function Zg(t,r){switch(t){case"compositionend":return uf(r);case"keypress":return r.which!==32?null:(af=!0,os);case"textInput":return t=r.data,t===os&&af?null:t;default:return null}}function ey(t,r){if(as)return t==="compositionend"||!rt&&lf(t,r)?(t=go(),jt=Ji=Zt=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return di&&r.locale!=="ko"?null:r.data;default:return null}}var ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ty[t.type]:r==="textarea"}function hf(t,r,o,u){Ln(u),r=Ba(r,"onChange"),0<r.length&&(o=new es("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Eo=null,wo=null;function ny(t){kf(t,0)}function Oa(t){var r=fs(t);if(Mi(r))return t}function ry(t,r){if(t==="change")return r}var ff=!1;if(m){var Tu;if(m){var Iu="oninput"in document;if(!Iu){var df=document.createElement("div");df.setAttribute("oninput","return;"),Iu=typeof df.oninput=="function"}Tu=Iu}else Tu=!1;ff=Tu&&(!document.documentMode||9<document.documentMode)}function pf(){Eo&&(Eo.detachEvent("onpropertychange",mf),wo=Eo=null)}function mf(t){if(t.propertyName==="value"&&Oa(wo)){var r=[];hf(r,wo,t,Bi(t)),oo(ny,r)}}function iy(t,r,o){t==="focusin"?(pf(),Eo=r,wo=o,Eo.attachEvent("onpropertychange",mf)):t==="focusout"&&pf()}function sy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oa(wo)}function oy(t,r){if(t==="click")return Oa(r)}function ay(t,r){if(t==="input"||t==="change")return Oa(r)}function ly(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:ly;function To(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!An(t[h],r[h]))return!1}return!0}function gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yf(t,r){var o=gf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gf(o)}}function _f(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?_f(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function vf(){for(var t=window,r=mr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=mr(t.document)}return r}function Su(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function uy(t){var r=vf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&_f(o.ownerDocument.documentElement,o)){if(u!==null&&Su(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=yf(o,p);var _=yf(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cy=m&&"documentMode"in document&&11>=document.documentMode,ls=null,Au=null,Io=null,Ru=!1;function Ef(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ru||ls==null||ls!==mr(u)||(u=ls,"selectionStart"in u&&Su(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Io&&To(Io,u)||(Io=u,u=Ba(Au,"onSelect"),0<u.length&&(r=new es("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ls)))}function Fa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var us={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},Cu={},wf={};m&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Ua(t){if(Cu[t])return Cu[t];if(!us[t])return t;var r=us[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in wf)return Cu[t]=r[o];return t}var Tf=Ua("animationend"),If=Ua("animationiteration"),Sf=Ua("animationstart"),Af=Ua("transitionend"),Rf=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,r){Rf.set(t,r),c(r,[t])}for(var Pu=0;Pu<Cf.length;Pu++){var ku=Cf[Pu],hy=ku.toLowerCase(),fy=ku[0].toUpperCase()+ku.slice(1);Rr(hy,"on"+fy)}Rr(Tf,"onAnimationEnd"),Rr(If,"onAnimationIteration"),Rr(Sf,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Af,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Pf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,pa(u,r,void 0,t),t.currentTarget=null}function kf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==p&&h.isPropagationStopped())break e;Pf(h,T,U),p=R}else for(_=0;_<u.length;_++){if(T=u[_],R=T.instance,U=T.currentTarget,T=T.listener,R!==p&&h.isPropagationStopped())break e;Pf(h,T,U),p=R}}}if(yn)throw t=ao,yn=!1,ao=null,t}function $e(t,r){var o=r[Fu];o===void 0&&(o=r[Fu]=new Set);var u=t+"__bubble";o.has(u)||(Vf(r,t,2,!1),o.add(u))}function Vu(t,r,o){var u=0;r&&(u|=4),Vf(o,t,u,r)}var za="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[za]){t[za]=!0,s.forEach(function(o){o!=="selectionchange"&&(dy.has(o)||Vu(o,!1,t),Vu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[za]||(r[za]=!0,Vu("selectionchange",!1,r))}}function Vf(t,r,o,u){switch(mo(r)){case 1:var h=Qe;break;case 4:h=Eu;break;default:h=po}o=h.bind(null,r,o,t),h=void 0,!$i||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Du(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;T!==null;){if(_=pi(T),_===null)return;if(R=_.tag,R===5||R===6){u=p=_;continue e}T=T.parentNode}}u=u.return}oo(function(){var U=p,Q=Bi(o),G=[];e:{var H=Rf.get(t);if(H!==void 0){var Z=es,ie=t;switch(t){case"keypress":if(Zi(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":ie="focus",Z=is;break;case"focusout":ie="blur",Z=is;break;case"beforeblur":case"afterblur":Z=is;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z;break;case Tf:case If:case Sf:Z=rr;break;case Af:Z=Fe;break;case"scroll":Z=wu;break;case"wheel":Z=Pe;break;case"copy":case"cut":case"paste":Z=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var se=(r&4)!==0,tt=!se&&t==="scroll",O=se?H!==null?H+"Capture":null:H;se=[];for(var P=U,F;P!==null;){F=P;var X=F.stateNode;if(F.tag===5&&X!==null&&(F=X,O!==null&&(X=et(P,O),X!=null&&se.push(Ro(P,X,F)))),tt)break;P=P.return}0<se.length&&(H=new Z(H,ie,null,o,Q),G.push({event:H,listeners:se}))}}if(!(r&7)){e:{if(H=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",H&&o!==ti&&(ie=o.relatedTarget||o.fromElement)&&(pi(ie)||ie[ir]))break e;if((Z||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(ie=o.relatedTarget||o.toElement,Z=U,ie=ie?pi(ie):null,ie!==null&&(tt=_n(ie),ie!==tt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(Z=null,ie=U),Z!==ie)){if(se=ns,X="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(se=v,X="onPointerLeave",O="onPointerEnter",P="pointer"),tt=Z==null?H:fs(Z),F=ie==null?H:fs(ie),H=new se(X,P+"leave",Z,o,Q),H.target=tt,H.relatedTarget=F,X=null,pi(Q)===U&&(se=new se(O,P+"enter",ie,o,Q),se.target=F,se.relatedTarget=tt,X=se),tt=X,Z&&ie)t:{for(se=Z,O=ie,P=0,F=se;F;F=cs(F))P++;for(F=0,X=O;X;X=cs(X))F++;for(;0<P-F;)se=cs(se),P--;for(;0<F-P;)O=cs(O),F--;for(;P--;){if(se===O||O!==null&&se===O.alternate)break t;se=cs(se),O=cs(O)}se=null}else se=null;Z!==null&&Df(G,H,Z,se,!1),ie!==null&&tt!==null&&Df(G,tt,ie,se,!0)}}e:{if(H=U?fs(U):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var oe=ry;else if(cf(H))if(ff)oe=ay;else{oe=sy;var ce=iy}else(Z=H.nodeName)&&Z.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(oe=oy);if(oe&&(oe=oe(t,U))){hf(G,oe,o,Q);break e}ce&&ce(t,H,U),t==="focusout"&&(ce=H._wrapperState)&&ce.controlled&&H.type==="number"&&Fi(H,"number",H.value)}switch(ce=U?fs(U):window,t){case"focusin":(cf(ce)||ce.contentEditable==="true")&&(ls=ce,Au=U,Io=null);break;case"focusout":Io=Au=ls=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,Ef(G,o,Q);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":Ef(G,o,Q)}var he;if(rt)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else as?lf(t,o)&&(de="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(de="onCompositionStart");de&&(di&&o.locale!=="ko"&&(as||de!=="onCompositionStart"?de==="onCompositionEnd"&&as&&(he=go()):(Zt=Q,Ji="value"in Zt?Zt.value:Zt.textContent,as=!0)),ce=Ba(U,de),0<ce.length&&(de=new vo(de,t,null,o,Q),G.push({event:de,listeners:ce}),he?de.data=he:(he=uf(o),he!==null&&(de.data=he)))),(he=en?Zg(t,o):ey(t,o))&&(U=Ba(U,"onBeforeInput"),0<U.length&&(Q=new vo("onBeforeInput","beforeinput",null,o,Q),G.push({event:Q,listeners:U}),Q.data=he))}kf(G,r)})}function Ro(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ba(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(Ro(t,p,h)),p=et(t,r),p!=null&&u.push(Ro(t,p,h))),t=t.return}return u}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Df(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var T=o,R=T.alternate,U=T.stateNode;if(R!==null&&R===u)break;T.tag===5&&U!==null&&(T=U,h?(R=et(o,p),R!=null&&_.unshift(Ro(o,R,T))):h||(R=et(o,p),R!=null&&_.push(Ro(o,R,T)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var py=/\r\n?/g,my=/\u0000|\uFFFD/g;function Nf(t){return(typeof t=="string"?t:""+t).replace(py,`
`).replace(my,"")}function ja(t,r,o){if(r=Nf(r),Nf(t)!==r&&o)throw Error(n(425))}function ba(){}var Nu=null,xu=null;function Lu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mu=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(t){return xf.resolve(null).then(t).catch(_y)}:Mu;function _y(t){setTimeout(function(){throw t})}function Ou(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Cr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Lf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Bn="__reactFiber$"+hs,Co="__reactProps$"+hs,ir="__reactContainer$"+hs,Fu="__reactEvents$"+hs,vy="__reactListeners$"+hs,Ey="__reactHandles$"+hs;function pi(t){var r=t[Bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ir]||o[Bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Lf(t);t!==null;){if(o=t[Bn])return o;t=Lf(t)}return r}t=o,o=t.parentNode}return null}function Po(t){return t=t[Bn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function $a(t){return t[Co]||null}var Uu=[],ds=-1;function Pr(t){return{current:t}}function qe(t){0>ds||(t.current=Uu[ds],Uu[ds]=null,ds--)}function be(t,r){ds++,Uu[ds]=t.current,t.current=r}var kr={},kt=Pr(kr),bt=Pr(!1),mi=kr;function ps(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function $t(t){return t=t.childContextTypes,t!=null}function qa(){qe(bt),qe(kt)}function Mf(t,r,o){if(kt.current!==kr)throw Error(n(168));be(kt,r),be(bt,o)}function Of(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Le(t)||"Unknown",h));return ee({},o,u)}function Ha(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,mi=kt.current,be(kt,t),be(bt,bt.current),!0}function Ff(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Of(t,r,mi),u.__reactInternalMemoizedMergedChildContext=t,qe(bt),qe(kt),be(kt,t)):qe(bt),be(bt,o)}var sr=null,Qa=!1,zu=!1;function Uf(t){sr===null?sr=[t]:sr.push(t)}function wy(t){Qa=!0,Uf(t)}function Vr(){if(!zu&&sr!==null){zu=!0;var t=0,r=Ae;try{var o=sr;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}sr=null,Qa=!1}catch(h){throw sr!==null&&(sr=sr.slice(t+1)),Wi(oi,Vr),h}finally{Ae=r,zu=!1}}return null}var ms=[],gs=0,Wa=null,Ga=0,cn=[],hn=0,gi=null,or=1,ar="";function yi(t,r){ms[gs++]=Ga,ms[gs++]=Wa,Wa=t,Ga=r}function zf(t,r,o){cn[hn++]=or,cn[hn++]=ar,cn[hn++]=gi,gi=t;var u=or;t=ar;var h=32-Ot(u)-1;u&=~(1<<h),o+=1;var p=32-Ot(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,or=1<<32-Ot(r)+h|o<<h|u,ar=p+t}else or=1<<p|o<<h|u,ar=t}function Bu(t){t.return!==null&&(yi(t,1),zf(t,1,0))}function ju(t){for(;t===Wa;)Wa=ms[--gs],ms[gs]=null,Ga=ms[--gs],ms[gs]=null;for(;t===gi;)gi=cn[--hn],cn[hn]=null,ar=cn[--hn],cn[hn]=null,or=cn[--hn],cn[hn]=null}var tn=null,nn=null,We=!1,Rn=null;function Bf(t,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function jf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Cr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=gi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $u(t){if(We){var r=nn;if(r){var o=r;if(!jf(t,r)){if(bu(t))throw Error(n(418));r=Cr(o.nextSibling);var u=tn;r&&jf(t,r)?Bf(u,o):(t.flags=t.flags&-4097|2,We=!1,tn=t)}}else{if(bu(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,tn=t}}}function bf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ka(t){if(t!==tn)return!1;if(!We)return bf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Lu(t.type,t.memoizedProps)),r&&(r=nn)){if(bu(t))throw $f(),Error(n(418));for(;r;)Bf(t,r),r=Cr(r.nextSibling)}if(bf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Cr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Cr(t.stateNode.nextSibling):null;return!0}function $f(){for(var t=nn;t;)t=Cr(t.nextSibling)}function ys(){nn=tn=null,We=!1}function qu(t){Rn===null?Rn=[t]:Rn.push(t)}var Ty=Se.ReactCurrentBatchConfig;function ko(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var T=h.refs;_===null?delete T[p]:T[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Xa(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function qf(t){var r=t._init;return r(t._payload)}function Hf(t){function r(O,P){if(t){var F=O.deletions;F===null?(O.deletions=[P],O.flags|=16):F.push(P)}}function o(O,P){if(!t)return null;for(;P!==null;)r(O,P),P=P.sibling;return null}function u(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(O,P){return O=Ur(O,P),O.index=0,O.sibling=null,O}function p(O,P,F){return O.index=F,t?(F=O.alternate,F!==null?(F=F.index,F<P?(O.flags|=2,P):F):(O.flags|=2,P)):(O.flags|=1048576,P)}function _(O){return t&&O.alternate===null&&(O.flags|=2),O}function T(O,P,F,X){return P===null||P.tag!==6?(P=Mc(F,O.mode,X),P.return=O,P):(P=h(P,F),P.return=O,P)}function R(O,P,F,X){var oe=F.type;return oe===D?Q(O,P,F.props.children,X,F.key):P!==null&&(P.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&qf(oe)===P.type)?(X=h(P,F.props),X.ref=ko(O,P,F),X.return=O,X):(X=El(F.type,F.key,F.props,null,O.mode,X),X.ref=ko(O,P,F),X.return=O,X)}function U(O,P,F,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=Oc(F,O.mode,X),P.return=O,P):(P=h(P,F.children||[]),P.return=O,P)}function Q(O,P,F,X,oe){return P===null||P.tag!==7?(P=Ai(F,O.mode,X,oe),P.return=O,P):(P=h(P,F),P.return=O,P)}function G(O,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Mc(""+P,O.mode,F),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Je:return F=El(P.type,P.key,P.props,null,O.mode,F),F.ref=ko(O,null,P),F.return=O,F;case De:return P=Oc(P,O.mode,F),P.return=O,P;case Pt:var X=P._init;return G(O,X(P._payload),F)}if(Kn(P)||ue(P))return P=Ai(P,O.mode,F,null),P.return=O,P;Xa(O,P)}return null}function H(O,P,F,X){var oe=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return oe!==null?null:T(O,P,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Je:return F.key===oe?R(O,P,F,X):null;case De:return F.key===oe?U(O,P,F,X):null;case Pt:return oe=F._init,H(O,P,oe(F._payload),X)}if(Kn(F)||ue(F))return oe!==null?null:Q(O,P,F,X,null);Xa(O,F)}return null}function Z(O,P,F,X,oe){if(typeof X=="string"&&X!==""||typeof X=="number")return O=O.get(F)||null,T(P,O,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Je:return O=O.get(X.key===null?F:X.key)||null,R(P,O,X,oe);case De:return O=O.get(X.key===null?F:X.key)||null,U(P,O,X,oe);case Pt:var ce=X._init;return Z(O,P,F,ce(X._payload),oe)}if(Kn(X)||ue(X))return O=O.get(F)||null,Q(P,O,X,oe,null);Xa(P,X)}return null}function ie(O,P,F,X){for(var oe=null,ce=null,he=P,de=P=0,_t=null;he!==null&&de<F.length;de++){he.index>de?(_t=he,he=null):_t=he.sibling;var xe=H(O,he,F[de],X);if(xe===null){he===null&&(he=_t);break}t&&he&&xe.alternate===null&&r(O,he),P=p(xe,P,de),ce===null?oe=xe:ce.sibling=xe,ce=xe,he=_t}if(de===F.length)return o(O,he),We&&yi(O,de),oe;if(he===null){for(;de<F.length;de++)he=G(O,F[de],X),he!==null&&(P=p(he,P,de),ce===null?oe=he:ce.sibling=he,ce=he);return We&&yi(O,de),oe}for(he=u(O,he);de<F.length;de++)_t=Z(he,O,de,F[de],X),_t!==null&&(t&&_t.alternate!==null&&he.delete(_t.key===null?de:_t.key),P=p(_t,P,de),ce===null?oe=_t:ce.sibling=_t,ce=_t);return t&&he.forEach(function(zr){return r(O,zr)}),We&&yi(O,de),oe}function se(O,P,F,X){var oe=ue(F);if(typeof oe!="function")throw Error(n(150));if(F=oe.call(F),F==null)throw Error(n(151));for(var ce=oe=null,he=P,de=P=0,_t=null,xe=F.next();he!==null&&!xe.done;de++,xe=F.next()){he.index>de?(_t=he,he=null):_t=he.sibling;var zr=H(O,he,xe.value,X);if(zr===null){he===null&&(he=_t);break}t&&he&&zr.alternate===null&&r(O,he),P=p(zr,P,de),ce===null?oe=zr:ce.sibling=zr,ce=zr,he=_t}if(xe.done)return o(O,he),We&&yi(O,de),oe;if(he===null){for(;!xe.done;de++,xe=F.next())xe=G(O,xe.value,X),xe!==null&&(P=p(xe,P,de),ce===null?oe=xe:ce.sibling=xe,ce=xe);return We&&yi(O,de),oe}for(he=u(O,he);!xe.done;de++,xe=F.next())xe=Z(he,O,de,xe.value,X),xe!==null&&(t&&xe.alternate!==null&&he.delete(xe.key===null?de:xe.key),P=p(xe,P,de),ce===null?oe=xe:ce.sibling=xe,ce=xe);return t&&he.forEach(function(t_){return r(O,t_)}),We&&yi(O,de),oe}function tt(O,P,F,X){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Je:e:{for(var oe=F.key,ce=P;ce!==null;){if(ce.key===oe){if(oe=F.type,oe===D){if(ce.tag===7){o(O,ce.sibling),P=h(ce,F.props.children),P.return=O,O=P;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&qf(oe)===ce.type){o(O,ce.sibling),P=h(ce,F.props),P.ref=ko(O,ce,F),P.return=O,O=P;break e}o(O,ce);break}else r(O,ce);ce=ce.sibling}F.type===D?(P=Ai(F.props.children,O.mode,X,F.key),P.return=O,O=P):(X=El(F.type,F.key,F.props,null,O.mode,X),X.ref=ko(O,P,F),X.return=O,O=X)}return _(O);case De:e:{for(ce=F.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){o(O,P.sibling),P=h(P,F.children||[]),P.return=O,O=P;break e}else{o(O,P);break}else r(O,P);P=P.sibling}P=Oc(F,O.mode,X),P.return=O,O=P}return _(O);case Pt:return ce=F._init,tt(O,P,ce(F._payload),X)}if(Kn(F))return ie(O,P,F,X);if(ue(F))return se(O,P,F,X);Xa(O,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,P!==null&&P.tag===6?(o(O,P.sibling),P=h(P,F),P.return=O,O=P):(o(O,P),P=Mc(F,O.mode,X),P.return=O,O=P),_(O)):o(O,P)}return tt}var _s=Hf(!0),Qf=Hf(!1),Ya=Pr(null),Ja=null,vs=null,Hu=null;function Qu(){Hu=vs=Ja=null}function Wu(t){var r=Ya.current;qe(Ya),t._currentValue=r}function Gu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Es(t,r){Ja=t,Hu=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function fn(t){var r=t._currentValue;if(Hu!==t)if(t={context:t,memoizedValue:r,next:null},vs===null){if(Ja===null)throw Error(n(308));vs=t,Ja.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return r}var _i=null;function Ku(t){_i===null?_i=[t]:_i.push(t)}function Wf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Ku(r)):(o.next=h.next,h.next=o),r.interleaved=o,lr(t,u)}function lr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Dr=!1;function Xu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Nr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ne&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,lr(t,o)}return h=u.interleaved,h===null?(r.next=r,Ku(u)):(r.next=h.next,h.next=r),u.interleaved=r,lr(t,o)}function Za(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}function Kf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function el(t,r,o,u){var h=t.updateQueue;Dr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,_===null?p=U:_.next=U,_=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=U:T.next=U,Q.lastBaseUpdate=R))}if(p!==null){var G=h.baseState;_=0,Q=U=R=null,T=p;do{var H=T.lane,Z=T.eventTime;if((u&H)===H){Q!==null&&(Q=Q.next={eventTime:Z,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ie=t,se=T;switch(H=r,Z=o,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){G=ie.call(Z,G,H);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,H=typeof ie=="function"?ie.call(Z,G,H):ie,H==null)break e;G=ee({},G,H);break e;case 2:Dr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,H=h.effects,H===null?h.effects=[T]:H.push(T))}else Z={eventTime:Z,lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(U=Q=Z,R=G):Q=Q.next=Z,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);if(Q===null&&(R=G),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);wi|=_,t.lanes=_,t.memoizedState=G}}function Xf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Vo={},jn=Pr(Vo),Do=Pr(Vo),No=Pr(Vo);function vi(t){if(t===Vo)throw Error(n(174));return t}function Yu(t,r){switch(be(No,r),be(Do,t),be(jn,Vo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:lt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=lt(r,t)}qe(jn),be(jn,r)}function ws(){qe(jn),qe(Do),qe(No)}function Yf(t){vi(No.current);var r=vi(jn.current),o=lt(r,t.type);r!==o&&(be(Do,t),be(jn,o))}function Ju(t){Do.current===t&&(qe(jn),qe(Do))}var Ge=Pr(0);function tl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zu=[];function ec(){for(var t=0;t<Zu.length;t++)Zu[t]._workInProgressVersionPrimary=null;Zu.length=0}var nl=Se.ReactCurrentDispatcher,tc=Se.ReactCurrentBatchConfig,Ei=0,Ke=null,ct=null,gt=null,rl=!1,xo=!1,Lo=0,Iy=0;function Vt(){throw Error(n(321))}function nc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function rc(t,r,o,u,h,p){if(Ei=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,nl.current=t===null||t.memoizedState===null?Cy:Py,t=o(u,h),xo){p=0;do{if(xo=!1,Lo=0,25<=p)throw Error(n(301));p+=1,gt=ct=null,r.updateQueue=null,nl.current=ky,t=o(u,h)}while(xo)}if(nl.current=ol,r=ct!==null&&ct.next!==null,Ei=0,gt=ct=Ke=null,rl=!1,r)throw Error(n(300));return t}function ic(){var t=Lo!==0;return Lo=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ke.memoizedState=gt=t:gt=gt.next=t,gt}function dn(){if(ct===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=gt===null?Ke.memoizedState:gt.next;if(r!==null)gt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gt===null?Ke.memoizedState=gt=t:gt=gt.next=t}return gt}function Mo(t,r){return typeof r=="function"?r(t):r}function sc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ct,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=_=null,R=null,U=p;do{var Q=U.lane;if((Ei&Q)===Q)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var G={lane:Q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(T=R=G,_=u):R=R.next=G,Ke.lanes|=Q,wi|=Q}U=U.next}while(U!==null&&U!==p);R===null?_=u:R.next=T,An(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,wi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function oc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);An(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Jf(){}function Zf(t,r){var o=Ke,u=dn(),h=r(),p=!An(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,ac(nd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,Oo(9,td.bind(null,o,u,h,r),void 0,null),yt===null)throw Error(n(349));Ei&30||ed(o,r,h)}return h}function ed(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function td(t,r,o,u){r.value=o,r.getSnapshot=u,rd(r)&&id(t)}function nd(t,r,o){return o(function(){rd(r)&&id(t)})}function rd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function id(t){var r=lr(t,1);r!==null&&Vn(r,t,1,-1)}function sd(t){var r=bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},r.queue=t,t=t.dispatch=Ry.bind(null,Ke,t),[r.memoizedState,t]}function Oo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function od(){return dn().memoizedState}function il(t,r,o,u){var h=bn();Ke.flags|=t,h.memoizedState=Oo(1|r,o,void 0,u===void 0?null:u)}function sl(t,r,o,u){var h=dn();u=u===void 0?null:u;var p=void 0;if(ct!==null){var _=ct.memoizedState;if(p=_.destroy,u!==null&&nc(u,_.deps)){h.memoizedState=Oo(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=Oo(1|r,o,p,u)}function ad(t,r){return il(8390656,8,t,r)}function ac(t,r){return sl(2048,8,t,r)}function ld(t,r){return sl(4,2,t,r)}function ud(t,r){return sl(4,4,t,r)}function cd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function hd(t,r,o){return o=o!=null?o.concat([t]):null,sl(4,4,cd.bind(null,r,t),o)}function lc(){}function fd(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&nc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function dd(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&nc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function pd(t,r,o){return Ei&21?(An(o,r)||(o=ui(),Ke.lanes|=o,wi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function Sy(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=tc.transition;tc.transition={};try{t(!1),r()}finally{Ae=o,tc.transition=u}}function md(){return dn().memoizedState}function Ay(t,r,o){var u=Or(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},gd(t))yd(r,o);else if(o=Wf(t,r,o,u),o!==null){var h=zt();Vn(o,t,u,h),_d(o,r,u)}}function Ry(t,r,o){var u=Or(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(gd(t))yd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,T=p(_,o);if(h.hasEagerState=!0,h.eagerState=T,An(T,_)){var R=r.interleaved;R===null?(h.next=h,Ku(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=Wf(t,r,h,u),o!==null&&(h=zt(),Vn(o,t,u,h),_d(o,r,u))}}function gd(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function yd(t,r){xo=rl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function _d(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}var ol={readContext:fn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Cy={readContext:fn,useCallback:function(t,r){return bn().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:ad,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,il(4194308,4,cd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return il(4194308,4,t,r)},useInsertionEffect:function(t,r){return il(4,2,t,r)},useMemo:function(t,r){var o=bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Ay.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=bn();return t={current:t},r.memoizedState=t},useState:sd,useDebugValue:lc,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=sd(!1),r=t[0];return t=Sy.bind(null,t[1]),bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=bn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),yt===null)throw Error(n(349));Ei&30||ed(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,ad(nd.bind(null,u,p,t),[t]),u.flags|=2048,Oo(9,td.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=bn(),r=yt.identifierPrefix;if(We){var o=ar,u=or;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Lo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Iy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Py={readContext:fn,useCallback:fd,useContext:fn,useEffect:ac,useImperativeHandle:hd,useInsertionEffect:ld,useLayoutEffect:ud,useMemo:dd,useReducer:sc,useRef:od,useState:function(){return sc(Mo)},useDebugValue:lc,useDeferredValue:function(t){var r=dn();return pd(r,ct.memoizedState,t)},useTransition:function(){var t=sc(Mo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:md,unstable_isNewReconciler:!1},ky={readContext:fn,useCallback:fd,useContext:fn,useEffect:ac,useImperativeHandle:hd,useInsertionEffect:ld,useLayoutEffect:ud,useMemo:dd,useReducer:oc,useRef:od,useState:function(){return oc(Mo)},useDebugValue:lc,useDeferredValue:function(t){var r=dn();return ct===null?r.memoizedState=t:pd(r,ct.memoizedState,t)},useTransition:function(){var t=oc(Mo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:md,unstable_isNewReconciler:!1};function Cn(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function uc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var al={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Or(t),p=ur(u,h);p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(Vn(r,t,h,u),Za(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Or(t),p=ur(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(Vn(r,t,h,u),Za(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=Or(t),h=ur(o,u);h.tag=2,r!=null&&(h.callback=r),r=Nr(t,h,u),r!==null&&(Vn(r,t,u,o),Za(r,t,u))}};function vd(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!To(o,u)||!To(h,p):!0}function Ed(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=fn(p):(h=$t(r)?mi:kt.current,u=r.contextTypes,p=(u=u!=null)?ps(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=al,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function wd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&al.enqueueReplaceState(r,r.state,null)}function cc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Xu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=fn(p):(p=$t(r)?mi:kt.current,h.context=ps(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(uc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&al.enqueueReplaceState(h,h.state,null),el(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,r){try{var o="",u=r;do o+=we(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function hc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function fc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Vy=typeof WeakMap=="function"?WeakMap:Map;function Td(t,r,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){pl||(pl=!0,Cc=u),fc(t,r)},o}function Id(t,r,o){o=ur(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){fc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){fc(t,r),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Sd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Vy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=qy.bind(null,t,r,o),r.then(t,t))}function Ad(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Rd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ur(-1,1),r.tag=2,Nr(o,r,1))),o.lanes|=1),t)}var Dy=Se.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?Qf(r,null,o,u):_s(r,t.child,o,u)}function Cd(t,r,o,u,h){o=o.render;var p=r.ref;return Es(r,h),u=rc(t,r,o,u,p,h),o=ic(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(We&&o&&Bu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function Pd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Lc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,kd(t,r,p,u,h)):(t=El(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:To,o(_,u)&&t.ref===r.ref)return cr(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function kd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(To(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,cr(t,r,h)}return dc(t,r,o,u,h)}function Vd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Ss,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,be(Ss,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,be(Ss,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,be(Ss,rn),rn|=u;return Ut(t,r,h,o),r.child}function Dd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function dc(t,r,o,u,h){var p=$t(o)?mi:kt.current;return p=ps(r,p),Es(r,h),o=rc(t,r,o,u,p,h),u=ic(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(We&&u&&Bu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Nd(t,r,o,u,h){if($t(o)){var p=!0;Ha(r)}else p=!1;if(Es(r,h),r.stateNode===null)ul(t,r),Ed(r,o,u),cc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var R=_.context,U=o.contextType;typeof U=="object"&&U!==null?U=fn(U):(U=$t(o)?mi:kt.current,U=ps(r,U));var Q=o.getDerivedStateFromProps,G=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";G||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==u||R!==U)&&wd(r,_,u,U),Dr=!1;var H=r.memoizedState;_.state=H,el(r,u,_,h),R=r.memoizedState,T!==u||H!==R||bt.current||Dr?(typeof Q=="function"&&(uc(r,o,Q,u),R=r.memoizedState),(T=Dr||vd(r,o,T,u,H,R,U))?(G||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),_.props=u,_.state=R,_.context=U,u=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Gf(t,r),T=r.memoizedProps,U=r.type===r.elementType?T:Cn(r.type,T),_.props=U,G=r.pendingProps,H=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=fn(R):(R=$t(o)?mi:kt.current,R=ps(r,R));var Z=o.getDerivedStateFromProps;(Q=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==G||H!==R)&&wd(r,_,u,R),Dr=!1,H=r.memoizedState,_.state=H,el(r,u,_,h);var ie=r.memoizedState;T!==G||H!==ie||bt.current||Dr?(typeof Z=="function"&&(uc(r,o,Z,u),ie=r.memoizedState),(U=Dr||vd(r,o,U,u,H,ie,R)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ie,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ie,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),_.props=u,_.state=ie,_.context=R,u=U):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),u=!1)}return pc(t,r,o,u,p,h)}function pc(t,r,o,u,h,p){Dd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Ff(r,o,!1),cr(t,r,p);u=r.stateNode,Dy.current=r;var T=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=_s(r,t.child,null,p),r.child=_s(r,null,T,p)):Ut(t,r,T,p),r.memoizedState=u.state,h&&Ff(r,o,!0),r.child}function xd(t){var r=t.stateNode;r.pendingContext?Mf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Mf(t,r.context,!1),Yu(t,r.containerInfo)}function Ld(t,r,o,u,h){return ys(),qu(h),r.flags|=256,Ut(t,r,o,u),r.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function gc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),be(Ge,h&1),t===null)return $u(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=wl(_,u,0,null),t=Ai(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=gc(o),r.memoizedState=mc,t):yc(r,_));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return Ny(t,r,_,u,T,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,T=h.sibling;var R={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Ur(h,R),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=Ur(T,p):(p=Ai(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?gc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=mc,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function yc(t,r){return r=wl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ll(t,r,o,u){return u!==null&&qu(u),_s(r,t.child,null,o),t=yc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ny(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=hc(Error(n(422))),ll(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=wl({mode:"visible",children:u.children},h,0,null),p=Ai(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&_s(r,t.child,null,_),r.child.memoizedState=gc(_),r.memoizedState=mc,p);if(!(r.mode&1))return ll(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(n(419)),u=hc(p,u,void 0),ll(t,r,_,u)}if(T=(_&t.childLanes)!==0,qt||T){if(u=yt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,lr(t,h),Vn(u,t,h,-1))}return xc(),u=hc(Error(n(421))),ll(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Hy.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Cr(h.nextSibling),tn=r,We=!0,Rn=null,t!==null&&(cn[hn++]=or,cn[hn++]=ar,cn[hn++]=gi,or=t.id,ar=t.overflow,gi=r),r=yc(r,u.children),r.flags|=4096,r)}function Od(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Gu(t.return,r,o)}function _c(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Fd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Ge.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Od(t,o,r);else if(t.tag===19)Od(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(be(Ge,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&tl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),_c(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&tl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}_c(r,!0,o,null,p);break;case"together":_c(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ul(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function cr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),wi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function xy(t,r,o){switch(r.tag){case 3:xd(r),ys();break;case 5:Yf(r);break;case 1:$t(r.type)&&Ha(r);break;case 4:Yu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;be(Ya,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(be(Ge,Ge.current&1),r.flags|=128,null):o&r.child.childLanes?Md(t,r,o):(be(Ge,Ge.current&1),t=cr(t,r,o),t!==null?t.sibling:null);be(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Fd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),be(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,Vd(t,r,o)}return cr(t,r,o)}var Ud,vc,zd,Bd;Ud=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},vc=function(){},zd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,vi(jn.current);var p=null;switch(o){case"input":h=Jr(t,h),u=Jr(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Xs(t,h),u=Xs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=ba)}no(o,u);var _;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var T=h[U];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(T=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&R!==T&&(R!=null||T!=null))if(U==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&T[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(p||(p=[]),p.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&$e("scroll",t),p||T===R||(p=[])):(p=p||[]).push(U,R))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},Bd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Fo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Ly(t,r,o){var u=r.pendingProps;switch(ju(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return $t(r.type)&&qa(),Dt(r),null;case 3:return u=r.stateNode,ws(),qe(bt),qe(kt),ec(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ka(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Rn!==null&&(Vc(Rn),Rn=null))),vc(t,r),Dt(r),null;case 5:Ju(r);var h=vi(No.current);if(o=r.type,t!==null&&r.stateNode!=null)zd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=vi(jn.current),Ka(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Bn]=r,u[Co]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<So.length;h++)$e(So[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Oi(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Ui(u,p),$e("invalid",u)}no(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var T=p[_];_==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&ja(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&ja(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&$e("scroll",u)}switch(o){case"input":Gn(u),da(u,p,!0);break;case"textarea":Gn(u),Ys(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=ba)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Bn]=r,t[Co]=u,Ud(t,r,!1,!1),r.stateNode=t;e:{switch(_=ro(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<So.length;h++)$e(So[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":Oi(t,u),h=Jr(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Ui(t,u),h=Xs(t,u),$e("invalid",t);break;default:h=u}no(o,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var R=T[p];p==="style"?eo(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Js(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&gr(t,R):typeof R=="number"&&gr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&$e("scroll",t):R!=null&&ve(t,p,R,_))}switch(o){case"input":Gn(t),da(t,u,!1);break;case"textarea":Gn(t),Ys(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Xn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Xn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=ba)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Bd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=vi(No.current),vi(jn.current),Ka(r)){if(u=r.stateNode,o=r.memoizedProps,u[Bn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:ja(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ja(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Bn]=r,r.stateNode=u}return Dt(r),null;case 13:if(qe(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&nn!==null&&r.mode&1&&!(r.flags&128))$f(),ys(),r.flags|=98560,p=!1;else if(p=Ka(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Bn]=r}else ys(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Rn!==null&&(Vc(Rn),Rn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ge.current&1?ht===0&&(ht=3):xc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return ws(),vc(t,r),t===null&&Ao(r.stateNode.containerInfo),Dt(r),null;case 10:return Wu(r.type._context),Dt(r),null;case 17:return $t(r.type)&&qa(),Dt(r),null;case 19:if(qe(Ge),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Fo(p,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=tl(t),_!==null){for(r.flags|=128,Fo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return be(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&je()>As&&(r.flags|=128,u=!0,Fo(p,!1),r.lanes=4194304)}else{if(!u)if(t=tl(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Fo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!We)return Dt(r),null}else 2*je()-p.renderingStartTime>As&&o!==1073741824&&(r.flags|=128,u=!0,Fo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=je(),r.sibling=null,o=Ge.current,be(Ge,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Nc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function My(t,r){switch(ju(r),r.tag){case 1:return $t(r.type)&&qa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ws(),qe(bt),qe(kt),ec(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Ju(r),null;case 13:if(qe(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ge),null;case 4:return ws(),null;case 10:return Wu(r.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var cl=!1,Nt=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Is(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ye(t,r,u)}else o.current=null}function Ec(t,r,o){try{o()}catch(u){Ye(t,r,u)}}var jd=!1;function Fy(t,r){if(Nu=Sr,t=vf(),Su(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,T=-1,R=-1,U=0,Q=0,G=t,H=null;t:for(;;){for(var Z;G!==o||h!==0&&G.nodeType!==3||(T=_+h),G!==p||u!==0&&G.nodeType!==3||(R=_+u),G.nodeType===3&&(_+=G.nodeValue.length),(Z=G.firstChild)!==null;)H=G,G=Z;for(;;){if(G===t)break t;if(H===o&&++U===h&&(T=_),H===p&&++Q===u&&(R=_),(Z=G.nextSibling)!==null)break;G=H,H=G.parentNode}G=Z}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(xu={focusedElem:t,selectionRange:o},Sr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var ie=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,tt=ie.memoizedState,O=r.stateNode,P=O.getSnapshotBeforeUpdate(r.elementType===r.type?se:Cn(r.type,se),tt);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){Ye(r,r.return,X)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return ie=jd,jd=!1,ie}function Uo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Ec(r,o,p)}h=h.next}while(h!==u)}}function hl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function wc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function bd(t){var r=t.alternate;r!==null&&(t.alternate=null,bd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Bn],delete r[Co],delete r[Fu],delete r[vy],delete r[Ey])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $d(t){return t.tag===5||t.tag===3||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$d(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ba));else if(u!==4&&(t=t.child,t!==null))for(Tc(t,r,o),t=t.sibling;t!==null;)Tc(t,r,o),t=t.sibling}function Ic(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ic(t,r,o),t=t.sibling;t!==null;)Ic(t,r,o),t=t.sibling}var Tt=null,Pn=!1;function xr(t,r,o){for(o=o.child;o!==null;)Hd(t,r,o),o=o.sibling}function Hd(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 5:Nt||Is(o,r);case 6:var u=Tt,h=Pn;Tt=null,xr(t,r,o),Tt=u,Pn=h,Tt!==null&&(Pn?(t=Tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(Pn?(t=Tt,o=o.stateNode,t.nodeType===8?Ou(t.parentNode,o):t.nodeType===1&&Ou(t,o),In(t)):Ou(Tt,o.stateNode));break;case 4:u=Tt,h=Pn,Tt=o.stateNode.containerInfo,Pn=!0,xr(t,r,o),Tt=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Ec(o,r,_),h=h.next}while(h!==u)}xr(t,r,o);break;case 1:if(!Nt&&(Is(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){Ye(o,r,T)}xr(t,r,o);break;case 21:xr(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,xr(t,r,o),Nt=u):xr(t,r,o);break;default:xr(t,r,o)}}function Qd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Oy),r.forEach(function(u){var h=Qy.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function kn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:Tt=T.stateNode,Pn=!1;break e;case 3:Tt=T.stateNode.containerInfo,Pn=!0;break e;case 4:Tt=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(Tt===null)throw Error(n(160));Hd(p,_,h),Tt=null,Pn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){Ye(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Wd(r,t),r=r.sibling}function Wd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(r,t),$n(t),u&4){try{Uo(3,t,t.return),hl(3,t)}catch(se){Ye(t,t.return,se)}try{Uo(5,t,t.return)}catch(se){Ye(t,t.return,se)}}break;case 1:kn(r,t),$n(t),u&512&&o!==null&&Is(o,o.return);break;case 5:if(kn(r,t),$n(t),u&512&&o!==null&&Is(o,o.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(se){Ye(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,T=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Gs(h,p),ro(T,_);var U=ro(T,p);for(_=0;_<R.length;_+=2){var Q=R[_],G=R[_+1];Q==="style"?eo(h,G):Q==="dangerouslySetInnerHTML"?Js(h,G):Q==="children"?gr(h,G):ve(h,Q,G,U)}switch(T){case"input":Ks(h,p);break;case"textarea":zi(h,p);break;case"select":var H=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Xn(h,!!p.multiple,Z,!1):H!==!!p.multiple&&(p.defaultValue!=null?Xn(h,!!p.multiple,p.defaultValue,!0):Xn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Co]=p}catch(se){Ye(t,t.return,se)}}break;case 6:if(kn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(se){Ye(t,t.return,se)}}break;case 3:if(kn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(se){Ye(t,t.return,se)}break;case 4:kn(r,t),$n(t);break;case 13:kn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Rc=je())),u&4&&Qd(t);break;case 22:if(Q=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(U=Nt)||Q,kn(r,t),Nt=U):kn(r,t),$n(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!Q&&t.mode&1)for(ne=t,Q=t.child;Q!==null;){for(G=ne=Q;ne!==null;){switch(H=ne,Z=H.child,H.tag){case 0:case 11:case 14:case 15:Uo(4,H,H.return);break;case 1:Is(H,H.return);var ie=H.stateNode;if(typeof ie.componentWillUnmount=="function"){u=H,o=H.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(se){Ye(u,o,se)}}break;case 5:Is(H,H.return);break;case 22:if(H.memoizedState!==null){Xd(G);continue}}Z!==null?(Z.return=H,ne=Z):Xd(G)}Q=Q.sibling}e:for(Q=null,G=t;;){if(G.tag===5){if(Q===null){Q=G;try{h=G.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=G.stateNode,R=G.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Zs("display",_))}catch(se){Ye(t,t.return,se)}}}else if(G.tag===6){if(Q===null)try{G.stateNode.nodeValue=U?"":G.memoizedProps}catch(se){Ye(t,t.return,se)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;Q===G&&(Q=null),G=G.return}Q===G&&(Q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:kn(r,t),$n(t),u&4&&Qd(t);break;case 21:break;default:kn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if($d(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=qd(t);Ic(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,T=qd(t);Tc(t,T,_);break;default:throw Error(n(161))}}catch(R){Ye(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Uy(t,r,o){ne=t,Gd(t)}function Gd(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||cl;if(!_){var T=h.alternate,R=T!==null&&T.memoizedState!==null||Nt;T=cl;var U=Nt;if(cl=_,(Nt=R)&&!U)for(ne=h;ne!==null;)_=ne,R=_.child,_.tag===22&&_.memoizedState!==null?Yd(h):R!==null?(R.return=_,ne=R):Yd(h);for(;p!==null;)ne=p,Gd(p),p=p.sibling;ne=h,cl=T,Nt=U}Kd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):Kd(t)}}function Kd(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||hl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Cn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Xf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Xf(r,_,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var Q=U.memoizedState;if(Q!==null){var G=Q.dehydrated;G!==null&&In(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&wc(r)}catch(H){Ye(r,r.return,H)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Xd(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Yd(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{hl(4,r)}catch(R){Ye(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Ye(r,h,R)}}var p=r.return;try{wc(r)}catch(R){Ye(r,p,R)}break;case 5:var _=r.return;try{wc(r)}catch(R){Ye(r,_,R)}}}catch(R){Ye(r,r.return,R)}if(r===t){ne=null;break}var T=r.sibling;if(T!==null){T.return=r.return,ne=T;break}ne=r.return}}var zy=Math.ceil,fl=Se.ReactCurrentDispatcher,Sc=Se.ReactCurrentOwner,pn=Se.ReactCurrentBatchConfig,Ne=0,yt=null,it=null,It=0,rn=0,Ss=Pr(0),ht=0,zo=null,wi=0,dl=0,Ac=0,Bo=null,Ht=null,Rc=0,As=1/0,hr=null,pl=!1,Cc=null,Lr=null,ml=!1,Mr=null,gl=0,jo=0,Pc=null,yl=-1,_l=0;function zt(){return Ne&6?je():yl!==-1?yl:yl=je()}function Or(t){return t.mode&1?Ne&2&&It!==0?It&-It:Ty.transition!==null?(_l===0&&(_l=ui()),_l):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:mo(t.type)),t):1}function Vn(t,r,o,u){if(50<jo)throw jo=0,Pc=null,Error(n(185));Er(t,o,u),(!(Ne&2)||t!==yt)&&(t===yt&&(!(Ne&2)&&(dl|=o),ht===4&&Fr(t,It)),Qt(t,u),o===1&&Ne===0&&!(r.mode&1)&&(As=je()+500,Qa&&Vr()))}function Qt(t,r){var o=t.callbackNode;Zn(t,r);var u=li(t,t===yt?It:0);if(u===0)o!==null&&uo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&uo(o),r===1)t.tag===0?wy(Zd.bind(null,t)):Uf(Zd.bind(null,t)),yy(function(){!(Ne&6)&&Vr()}),o=null;else{switch(Tr(u)){case 1:o=oi;break;case 4:o=yr;break;case 16:o=an;break;case 536870912:o=_a;break;default:o=an}o=ap(o,Jd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Jd(t,r){if(yl=-1,_l=0,Ne&6)throw Error(n(327));var o=t.callbackNode;if(Rs()&&t.callbackNode!==o)return null;var u=li(t,t===yt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=vl(t,u);else{r=u;var h=Ne;Ne|=2;var p=tp();(yt!==t||It!==r)&&(hr=null,As=je()+500,Ii(t,r));do try{by();break}catch(T){ep(t,T)}while(!0);Qu(),fl.current=p,Ne=h,it!==null?r=0:(yt=null,It=0,r=ht)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=kc(t,h))),r===1)throw o=zo,Ii(t,0),Fr(t,u),Qt(t,je()),o;if(r===6)Fr(t,u);else{if(h=t.current.alternate,!(u&30)&&!By(h)&&(r=vl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=kc(t,p))),r===1))throw o=zo,Ii(t,0),Fr(t,u),Qt(t,je()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Si(t,Ht,hr);break;case 3:if(Fr(t,u),(u&130023424)===u&&(r=Rc+500-je(),10<r)){if(li(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Mu(Si.bind(null,t,Ht,hr),r);break}Si(t,Ht,hr);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Ot(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*zy(u/1960))-u,10<u){t.timeoutHandle=Mu(Si.bind(null,t,Ht,hr),u);break}Si(t,Ht,hr);break;case 5:Si(t,Ht,hr);break;default:throw Error(n(329))}}}return Qt(t,je()),t.callbackNode===o?Jd.bind(null,t):null}function kc(t,r){var o=Bo;return t.current.memoizedState.isDehydrated&&(Ii(t,r).flags|=256),t=vl(t,r),t!==2&&(r=Ht,Ht=o,r!==null&&Vc(r)),t}function Vc(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function By(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!An(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(t,r){for(r&=~Ac,r&=~dl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ot(r),u=1<<o;t[o]=-1,r&=~u}}function Zd(t){if(Ne&6)throw Error(n(327));Rs();var r=li(t,0);if(!(r&1))return Qt(t,je()),null;var o=vl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=kc(t,u))}if(o===1)throw o=zo,Ii(t,0),Fr(t,r),Qt(t,je()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Si(t,Ht,hr),Qt(t,je()),null}function Dc(t,r){var o=Ne;Ne|=1;try{return t(r)}finally{Ne=o,Ne===0&&(As=je()+500,Qa&&Vr())}}function Ti(t){Mr!==null&&Mr.tag===0&&!(Ne&6)&&Rs();var r=Ne;Ne|=1;var o=pn.transition,u=Ae;try{if(pn.transition=null,Ae=1,t)return t()}finally{Ae=u,pn.transition=o,Ne=r,!(Ne&6)&&Vr()}}function Nc(){rn=Ss.current,qe(Ss)}function Ii(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,gy(o)),it!==null)for(o=it.return;o!==null;){var u=o;switch(ju(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&qa();break;case 3:ws(),qe(bt),qe(kt),ec();break;case 5:Ju(u);break;case 4:ws();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:Wu(u.type._context);break;case 22:case 23:Nc()}o=o.return}if(yt=t,it=t=Ur(t.current,null),It=rn=r,ht=0,zo=null,Ac=dl=wi=0,Ht=Bo=null,_i!==null){for(r=0;r<_i.length;r++)if(o=_i[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}_i=null}return t}function ep(t,r){do{var o=it;try{if(Qu(),nl.current=ol,rl){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}rl=!1}if(Ei=0,gt=ct=Ke=null,xo=!1,Lo=0,Sc.current=null,o===null||o.return===null){ht=1,zo=r,it=null;break}e:{var p=t,_=o.return,T=o,R=r;if(r=It,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,Q=T,G=Q.tag;if(!(Q.mode&1)&&(G===0||G===11||G===15)){var H=Q.alternate;H?(Q.updateQueue=H.updateQueue,Q.memoizedState=H.memoizedState,Q.lanes=H.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var Z=Ad(_);if(Z!==null){Z.flags&=-257,Rd(Z,_,T,p,r),Z.mode&1&&Sd(p,U,r),r=Z,R=U;var ie=r.updateQueue;if(ie===null){var se=new Set;se.add(R),r.updateQueue=se}else ie.add(R);break e}else{if(!(r&1)){Sd(p,U,r),xc();break e}R=Error(n(426))}}else if(We&&T.mode&1){var tt=Ad(_);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),Rd(tt,_,T,p,r),qu(Ts(R,T));break e}}p=R=Ts(R,T),ht!==4&&(ht=2),Bo===null?Bo=[p]:Bo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var O=Td(p,R,r);Kf(p,O);break e;case 1:T=R;var P=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof P.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Lr===null||!Lr.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=Id(p,T,r);Kf(p,X);break e}}p=p.return}while(p!==null)}rp(o)}catch(oe){r=oe,it===o&&o!==null&&(it=o=o.return);continue}break}while(!0)}function tp(){var t=fl.current;return fl.current=ol,t===null?ol:t}function xc(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(wi&268435455)&&!(dl&268435455)||Fr(yt,It)}function vl(t,r){var o=Ne;Ne|=2;var u=tp();(yt!==t||It!==r)&&(hr=null,Ii(t,r));do try{jy();break}catch(h){ep(t,h)}while(!0);if(Qu(),Ne=o,fl.current=u,it!==null)throw Error(n(261));return yt=null,It=0,ht}function jy(){for(;it!==null;)np(it)}function by(){for(;it!==null&&!ga();)np(it)}function np(t){var r=op(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?rp(t):it=r,Sc.current=null}function rp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=My(o,r),o!==null){o.flags&=32767,it=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,it=null;return}}else if(o=Ly(o,r,rn),o!==null){it=o;return}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ht===0&&(ht=5)}function Si(t,r,o){var u=Ae,h=pn.transition;try{pn.transition=null,Ae=1,$y(t,r,o,u)}finally{pn.transition=h,Ae=u}return null}function $y(t,r,o,u){do Rs();while(Mr!==null);if(Ne&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===yt&&(it=yt=null,It=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||ml||(ml=!0,ap(an,function(){return Rs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var _=Ae;Ae=1;var T=Ne;Ne|=4,Sc.current=null,Fy(t,o),Wd(o,t),uy(xu),Sr=!!Nu,xu=Nu=null,t.current=o,Uy(o),gu(),Ne=T,Ae=_,pn.transition=p}else t.current=o;if(ml&&(ml=!1,Mr=t,gl=h),p=t.pendingLanes,p===0&&(Lr=null),va(o.stateNode),Qt(t,je()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(pl)throw pl=!1,t=Cc,Cc=null,t;return gl&1&&t.tag!==0&&Rs(),p=t.pendingLanes,p&1?t===Pc?jo++:(jo=0,Pc=t):jo=0,Vr(),null}function Rs(){if(Mr!==null){var t=Tr(gl),r=pn.transition,o=Ae;try{if(pn.transition=null,Ae=16>t?16:t,Mr===null)var u=!1;else{if(t=Mr,Mr=null,gl=0,Ne&6)throw Error(n(331));var h=Ne;for(Ne|=4,ne=t.current;ne!==null;){var p=ne,_=p.child;if(ne.flags&16){var T=p.deletions;if(T!==null){for(var R=0;R<T.length;R++){var U=T[R];for(ne=U;ne!==null;){var Q=ne;switch(Q.tag){case 0:case 11:case 15:Uo(8,Q,p)}var G=Q.child;if(G!==null)G.return=Q,ne=G;else for(;ne!==null;){Q=ne;var H=Q.sibling,Z=Q.return;if(bd(Q),Q===U){ne=null;break}if(H!==null){H.return=Z,ne=H;break}ne=Z}}}var ie=p.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var tt=se.sibling;se.sibling=null,se=tt}while(se!==null)}}ne=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,ne=_;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Uo(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,ne=O;break e}ne=p.return}}var P=t.current;for(ne=P;ne!==null;){_=ne;var F=_.child;if(_.subtreeFlags&2064&&F!==null)F.return=_,ne=F;else e:for(_=P;ne!==null;){if(T=ne,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:hl(9,T)}}catch(oe){Ye(T,T.return,oe)}if(T===_){ne=null;break e}var X=T.sibling;if(X!==null){X.return=T.return,ne=X;break e}ne=T.return}}if(Ne=h,Vr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ai,t)}catch{}u=!0}return u}finally{Ae=o,pn.transition=r}}return!1}function ip(t,r,o){r=Ts(o,r),r=Td(t,r,1),t=Nr(t,r,1),r=zt(),t!==null&&(Er(t,1,r),Qt(t,r))}function Ye(t,r,o){if(t.tag===3)ip(t,t,o);else for(;r!==null;){if(r.tag===3){ip(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=Ts(o,t),t=Id(r,t,1),r=Nr(r,t,1),t=zt(),r!==null&&(Er(r,1,t),Qt(r,t));break}}r=r.return}}function qy(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,yt===t&&(It&o)===o&&(ht===4||ht===3&&(It&130023424)===It&&500>je()-Rc?Ii(t,0):Ac|=o),Qt(t,r)}function sp(t,r){r===0&&(t.mode&1?(r=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):r=1);var o=zt();t=lr(t,r),t!==null&&(Er(t,r,o),Qt(t,o))}function Hy(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),sp(t,o)}function Qy(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),sp(t,o)}var op;op=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||bt.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,xy(t,r,o);qt=!!(t.flags&131072)}else qt=!1,We&&r.flags&1048576&&zf(r,Ga,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;ul(t,r),t=r.pendingProps;var h=ps(r,kt.current);Es(r,o),h=rc(null,r,u,t,h,o);var p=ic();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$t(u)?(p=!0,Ha(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Xu(r),h.updater=al,r.stateNode=h,h._reactInternals=r,cc(r,u,t,o),r=pc(null,r,u,!0,p,o)):(r.tag=0,We&&p&&Bu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(ul(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Gy(u),t=Cn(u,t),h){case 0:r=dc(null,r,u,t,o);break e;case 1:r=Nd(null,r,u,t,o);break e;case 11:r=Cd(null,r,u,t,o);break e;case 14:r=Pd(null,r,u,Cn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),dc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),Nd(t,r,u,h,o);case 3:e:{if(xd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Gf(t,r),el(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Ts(Error(n(423)),r),r=Ld(t,r,u,o,h);break e}else if(u!==h){h=Ts(Error(n(424)),r),r=Ld(t,r,u,o,h);break e}else for(nn=Cr(r.stateNode.containerInfo.firstChild),tn=r,We=!0,Rn=null,o=Qf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ys(),u===h){r=cr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return Yf(r),t===null&&$u(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Lu(u,h)?_=null:p!==null&&Lu(u,p)&&(r.flags|=32),Dd(t,r),Ut(t,r,_,o),r.child;case 6:return t===null&&$u(r),null;case 13:return Md(t,r,o);case 4:return Yu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=_s(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),Cd(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,be(Ya,u._currentValue),u._currentValue=_,p!==null)if(An(p.value,_)){if(p.children===h.children&&!bt.current){r=cr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){_=p.child;for(var R=T.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=ur(-1,o&-o),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var Q=U.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),U.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),Gu(p.return,o,r),T.lanes|=o;break}R=R.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),Gu(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Es(r,o),h=fn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Cn(u,r.pendingProps),h=Cn(u.type,h),Pd(t,r,u,h,o);case 15:return kd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),ul(t,r),r.tag=1,$t(u)?(t=!0,Ha(r)):t=!1,Es(r,o),Ed(r,u,h),cc(r,u,h,o),pc(null,r,u,!0,t,o);case 19:return Fd(t,r,o);case 22:return Vd(t,r,o)}throw Error(n(156,r.tag))};function ap(t,r){return Wi(t,r)}function Wy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,o,u){return new Wy(t,r,o,u)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gy(t){if(typeof t=="function")return Lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===Ct)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=mn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function El(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")Lc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case D:return Ai(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=mn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=mn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ze:return t=mn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case Ue:return wl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case N:_=9;break e;case L:_=11;break e;case Ct:_=14;break e;case Pt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=mn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ai(t,r,o,u){return t=mn(7,t,u,r),t.lanes=o,t}function wl(t,r,o,u){return t=mn(22,t,u,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function Mc(t,r,o){return t=mn(6,t,null,r),t.lanes=o,t}function Oc(t,r,o){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ky(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vr(0),this.expirationTimes=vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Fc(t,r,o,u,h,p,_,T,R){return t=new Ky(t,r,o,T,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xu(p),t}function Xy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:De,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function lp(t){if(!t)return kr;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if($t(o))return Of(t,o,r)}return r}function up(t,r,o,u,h,p,_,T,R){return t=Fc(o,u,!0,t,h,p,_,T,R),t.context=lp(null),o=t.current,u=zt(),h=Or(o),p=ur(u,h),p.callback=r??null,Nr(o,p,h),t.current.lanes=h,Er(t,h,u),Qt(t,u),t}function Tl(t,r,o,u){var h=r.current,p=zt(),_=Or(h);return o=lp(o),r.context===null?r.context=o:r.pendingContext=o,r=ur(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Nr(h,r,_),t!==null&&(Vn(t,h,_,p),Za(t,h,_)),_}function Il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Uc(t,r){cp(t,r),(t=t.alternate)&&cp(t,r)}function Yy(){return null}var hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function zc(t){this._internalRoot=t}Sl.prototype.render=zc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Tl(t,r,null,null)},Sl.prototype.unmount=zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ti(function(){Tl(null,t,null,null)}),r[ir]=null}};function Sl(t){this._internalRoot=t}Sl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Sa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&Ca(t)}};function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fp(){}function Jy(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=Il(_);p.call(U)}}var _=up(r,u,t,0,null,!1,!1,"",fp);return t._reactRootContainer=_,t[ir]=_.current,Ao(t.nodeType===8?t.parentNode:t),Ti(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var U=Il(R);T.call(U)}}var R=Fc(t,0,!1,null,null,!1,!1,"",fp);return t._reactRootContainer=R,t[ir]=R.current,Ao(t.nodeType===8?t.parentNode:t),Ti(function(){Tl(r,R,o,u)}),R}function Rl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var T=h;h=function(){var R=Il(_);T.call(R)}}Tl(r,_,t,h)}else _=Jy(o,r,t,h,u);return Il(_)}Ta=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=_r(r.pendingLanes);o!==0&&(wr(r,o|1),Qt(r,je()),!(Ne&6)&&(As=je()+500,Vr()))}break;case 13:Ti(function(){var u=lr(t,1);if(u!==null){var h=zt();Vn(u,t,1,h)}}),Uc(t,1)}},Xi=function(t){if(t.tag===13){var r=lr(t,134217728);if(r!==null){var o=zt();Vn(r,t,134217728,o)}Uc(t,134217728)}},Ia=function(t){if(t.tag===13){var r=Or(t),o=lr(t,r);if(o!==null){var u=zt();Vn(o,t,r,u)}Uc(t,r)}},Sa=function(){return Ae},Aa=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},ji=function(t,r,o){switch(r){case"input":if(Ks(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=$a(u);if(!h)throw Error(n(90));Mi(u),Ks(u,h)}}}break;case"textarea":zi(t,o);break;case"select":r=o.value,r!=null&&Xn(t,!!o.multiple,r,!1)}},ni=Dc,so=Ti;var Zy={usingClientEntryPoint:!1,Events:[Po,fs,$a,Ln,io,Dc]},bo={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e_={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lo(t),t===null?null:t.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||Yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{ai=Cl.inject(e_),Yt=Cl}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zy,Wt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(r))throw Error(n(200));return Xy(t,r,null,o)},Wt.createRoot=function(t,r){if(!Bc(t))throw Error(n(299));var o=!1,u="",h=hp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Fc(t,1,!1,null,null,o,!1,u,h),t[ir]=r.current,Ao(t.nodeType===8?t.parentNode:t),new zc(r)},Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=lo(r),t=t===null?null:t.stateNode,t},Wt.flushSync=function(t){return Ti(t)},Wt.hydrate=function(t,r,o){if(!Al(r))throw Error(n(200));return Rl(null,t,r,!0,o)},Wt.hydrateRoot=function(t,r,o){if(!Bc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=hp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=up(r,null,t,1,o??null,h,!1,p,_),t[ir]=r.current,Ao(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Sl(r)},Wt.render=function(t,r,o){if(!Al(r))throw Error(n(200));return Rl(null,t,r,!1,o)},Wt.unmountComponentAtNode=function(t){if(!Al(t))throw Error(n(40));return t._reactRootContainer?(Ti(function(){Rl(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Wt.unstable_batchedUpdates=Dc,Wt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Al(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Rl(t,r,o,!1,u)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var Ep;function l_(){if(Ep)return $c.exports;Ep=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$c.exports=a_(),$c.exports}var wp;function u_(){if(wp)return Pl;wp=1;var i=l_();return Pl.createRoot=i.createRoot,Pl.hydrateRoot=i.hydrateRoot,Pl}var c_=u_(),Tp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},h_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,E=y?i[a+2]:0,w=c>>2,C=(c&3)<<4|m>>4;let V=(m&15)<<2|E>>6,B=E&63;y||(B=64,f||(V=64)),s.push(n[w],n[C],n[V],n[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Tm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):h_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||E==null||C==null)throw new f_;const V=c<<2|m>>4;if(s.push(V),E!==64){const B=m<<4&240|E>>2;if(s.push(B),C!==64){const W=E<<6&192|C;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class f_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d_=function(i){const e=Tm(i);return Im.encodeByteArray(e,!0)},bl=function(i){return d_(i).replace(/\./g,"")},p_=function(i){try{return Im.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=()=>m_().__FIREBASE_DEFAULTS__,y_=()=>{if(typeof process>"u"||typeof Tp>"u")return;const i=Tp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},__=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&p_(i[1]);return e&&JSON.parse(e)},Ih=()=>{try{return g_()||y_()||__()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},v_=i=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},E_=i=>{const e=v_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Sm=()=>{var i;return(i=Ih())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bl(JSON.stringify(n)),bl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S_(){var i;const e=(i=Ih())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A_(){return!S_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R_(){try{return typeof indexedDB=="object"}catch{return!1}}function C_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="FirebaseError";class bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=P_,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Am.prototype.create)}}class Am{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?k_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new bs(a,m,s)}}function k_(i,e){return i.replace(V_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const V_=/\{\$([^}]+)}/g;function eh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Ip(c)&&Ip(f)){if(!eh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ip(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i){return i&&i._delegate?i._delegate:i}class Jo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new w_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x_(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:N_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N_(i){return i===Ri?void 0:i}function x_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const M_={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},O_=Ve.INFO,F_={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},U_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=F_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=O_,this._logHandler=U_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const z_=(i,e)=>e.some(n=>i instanceof n);let Sp,Ap;function B_(){return Sp||(Sp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j_(){return Ap||(Ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cm=new WeakMap,th=new WeakMap,Pm=new WeakMap,Qc=new WeakMap,Sh=new WeakMap;function b_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(jr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Cm.set(n,i)}).catch(()=>{}),Sh.set(e,i),e}function $_(i){if(th.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});th.set(i,e)}let nh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return th.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Pm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function q_(i){nh=i(nh)}function H_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Wc(this),e,...n);return Pm.set(s,e.sort?e.sort():[e]),jr(s)}:j_().includes(i)?function(...e){return i.apply(Wc(this),e),jr(Cm.get(this))}:function(...e){return jr(i.apply(Wc(this),e))}}function Q_(i){return typeof i=="function"?H_(i):(i instanceof IDBTransaction&&$_(i),z_(i,B_())?new Proxy(i,nh):i)}function jr(i){if(i instanceof IDBRequest)return b_(i);if(Qc.has(i))return Qc.get(i);const e=Q_(i);return e!==i&&(Qc.set(i,e),Sh.set(e,i)),e}const Wc=i=>Sh.get(i);function W_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=jr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(jr(f.result),y.oldVersion,y.newVersion,jr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),m}const G_=["get","getKey","getAll","getAllKeys","count"],K_=["put","add","delete","clear"],Gc=new Map;function Rp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gc.get(e))return Gc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=K_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||G_.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let E=y.store;return s&&(E=E.index(m.shift())),(await Promise.all([E[n](...m),a&&y.done]))[0]};return Gc.set(e,c),c}q_(i=>({...i,get:(e,n,s)=>Rp(e,n)||i.get(e,n,s),has:(e,n)=>!!Rp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Y_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rh="@firebase/app",Cp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Rm("@firebase/app"),J_="@firebase/app-compat",Z_="@firebase/analytics-compat",ev="@firebase/analytics",tv="@firebase/app-check-compat",nv="@firebase/app-check",rv="@firebase/auth",iv="@firebase/auth-compat",sv="@firebase/database",ov="@firebase/data-connect",av="@firebase/database-compat",lv="@firebase/functions",uv="@firebase/functions-compat",cv="@firebase/installations",hv="@firebase/installations-compat",fv="@firebase/messaging",dv="@firebase/messaging-compat",pv="@firebase/performance",mv="@firebase/performance-compat",gv="@firebase/remote-config",yv="@firebase/remote-config-compat",_v="@firebase/storage",vv="@firebase/storage-compat",Ev="@firebase/firestore",wv="@firebase/vertexai",Tv="@firebase/firestore-compat",Iv="firebase",Sv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="[DEFAULT]",Av={[rh]:"fire-core",[J_]:"fire-core-compat",[ev]:"fire-analytics",[Z_]:"fire-analytics-compat",[nv]:"fire-app-check",[tv]:"fire-app-check-compat",[rv]:"fire-auth",[iv]:"fire-auth-compat",[sv]:"fire-rtdb",[ov]:"fire-data-connect",[av]:"fire-rtdb-compat",[lv]:"fire-fn",[uv]:"fire-fn-compat",[cv]:"fire-iid",[hv]:"fire-iid-compat",[fv]:"fire-fcm",[dv]:"fire-fcm-compat",[pv]:"fire-perf",[mv]:"fire-perf-compat",[gv]:"fire-rc",[yv]:"fire-rc-compat",[_v]:"fire-gcs",[vv]:"fire-gcs-compat",[Ev]:"fire-fst",[Tv]:"fire-fst-compat",[wv]:"fire-vertex","fire-js":"fire-js",[Iv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new Map,Rv=new Map,sh=new Map;function Pp(i,e){try{i.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ql(i){const e=i.name;if(sh.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;sh.set(e,i);for(const n of $l.values())Pp(n,i);for(const n of Rv.values())Pp(n,i);return!0}function Cv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Am("app","Firebase",Pv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=Sv;function km(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ih,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw br.create("bad-app-name",{appName:String(a)});if(n||(n=Sm()),!n)throw br.create("no-options");const c=$l.get(a);if(c){if(eh(n,c.options)&&eh(s,c.config))return c;throw br.create("duplicate-app",{appName:a})}const f=new L_(a);for(const y of sh.values())f.addComponent(y);const m=new kv(n,s,f);return $l.set(a,m),m}function Dv(i=ih){const e=$l.get(i);if(!e&&i===ih&&Sm())return km();if(!e)throw br.create("no-app",{appName:i});return e}function Ns(i,e,n){var s;let a=(s=Av[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(m.join(" "));return}ql(new Jo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="firebase-heartbeat-database",xv=1,Zo="firebase-heartbeat-store";let Kc=null;function Vm(){return Kc||(Kc=W_(Nv,xv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(i=>{throw br.create("idb-open",{originalErrorMessage:i.message})})),Kc}async function Lv(i){try{const n=(await Vm()).transaction(Zo),s=await n.objectStore(Zo).get(Dm(i));return await n.done,s}catch(e){if(e instanceof bs)fr.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function kp(i,e){try{const s=(await Vm()).transaction(Zo,"readwrite");await s.objectStore(Zo).put(e,Dm(i)),await s.done}catch(n){if(n instanceof bs)fr.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(s.message)}}}function Dm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=1024,Ov=30*24*60*60*1e3;class Fv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Vp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Ov}),this._storage.overwrite(this._heartbeatsCache))}catch(s){fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vp(),{heartbeatsToSend:s,unsentEntries:a}=Uv(this._heartbeatsCache.heartbeats),c=bl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return fr.warn(n),""}}}function Vp(){return new Date().toISOString().substring(0,10)}function Uv(i,e=Mv){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Dp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Dp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R_()?C_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dp(i){return bl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(i){ql(new Jo("platform-logger",e=>new X_(e),"PRIVATE")),ql(new Jo("heartbeat",e=>new Fv(e),"PRIVATE")),Ns(rh,Cp,i),Ns(rh,Cp,"esm2017"),Ns("fire-js","")}Bv("");var jv="firebase",bv="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(jv,bv,"app");var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,Nm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function A(){}A.prototype=I.prototype,D.D=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(k,N,L){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return I.prototype[N].apply(k,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)k[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)k[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],N=D.g[2];var L=D.g[3],S=I+(L^A&(N^L))+k[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=L+(N^I&(A^N))+k[1]+3905402710&4294967295,L=I+(S<<12&4294967295|S>>>20),S=N+(A^L&(I^A))+k[2]+606105819&4294967295,N=L+(S<<17&4294967295|S>>>15),S=A+(I^N&(L^I))+k[3]+3250441966&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(L^A&(N^L))+k[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(N^I&(A^N))+k[5]+1200080426&4294967295,L=I+(S<<12&4294967295|S>>>20),S=N+(A^L&(I^A))+k[6]+2821735955&4294967295,N=L+(S<<17&4294967295|S>>>15),S=A+(I^N&(L^I))+k[7]+4249261313&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(L^A&(N^L))+k[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(N^I&(A^N))+k[9]+2336552879&4294967295,L=I+(S<<12&4294967295|S>>>20),S=N+(A^L&(I^A))+k[10]+4294925233&4294967295,N=L+(S<<17&4294967295|S>>>15),S=A+(I^N&(L^I))+k[11]+2304563134&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(L^A&(N^L))+k[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(N^I&(A^N))+k[13]+4254626195&4294967295,L=I+(S<<12&4294967295|S>>>20),S=N+(A^L&(I^A))+k[14]+2792965006&4294967295,N=L+(S<<17&4294967295|S>>>15),S=A+(I^N&(L^I))+k[15]+1236535329&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(N^L&(A^N))+k[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^N&(I^A))+k[6]+3225465664&4294967295,L=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(L^I))+k[11]+643717713&4294967295,N=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(N^L))+k[0]+3921069994&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^L&(A^N))+k[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^N&(I^A))+k[10]+38016083&4294967295,L=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(L^I))+k[15]+3634488961&4294967295,N=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(N^L))+k[4]+3889429448&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^L&(A^N))+k[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^N&(I^A))+k[14]+3275163606&4294967295,L=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(L^I))+k[3]+4107603335&4294967295,N=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(N^L))+k[8]+1163531501&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^L&(A^N))+k[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^N&(I^A))+k[2]+4243563512&4294967295,L=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(L^I))+k[7]+1735328473&4294967295,N=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(N^L))+k[12]+2368359562&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(A^N^L)+k[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^N)+k[8]+2272392833&4294967295,L=I+(S<<11&4294967295|S>>>21),S=N+(L^I^A)+k[11]+1839030562&4294967295,N=L+(S<<16&4294967295|S>>>16),S=A+(N^L^I)+k[14]+4259657740&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^L)+k[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^N)+k[4]+1272893353&4294967295,L=I+(S<<11&4294967295|S>>>21),S=N+(L^I^A)+k[7]+4139469664&4294967295,N=L+(S<<16&4294967295|S>>>16),S=A+(N^L^I)+k[10]+3200236656&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^L)+k[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^N)+k[0]+3936430074&4294967295,L=I+(S<<11&4294967295|S>>>21),S=N+(L^I^A)+k[3]+3572445317&4294967295,N=L+(S<<16&4294967295|S>>>16),S=A+(N^L^I)+k[6]+76029189&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^L)+k[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^N)+k[12]+3873151461&4294967295,L=I+(S<<11&4294967295|S>>>21),S=N+(L^I^A)+k[15]+530742520&4294967295,N=L+(S<<16&4294967295|S>>>16),S=A+(N^L^I)+k[2]+3299628645&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(N^(A|~L))+k[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~N))+k[7]+1126891415&4294967295,L=I+(S<<10&4294967295|S>>>22),S=N+(I^(L|~A))+k[14]+2878612391&4294967295,N=L+(S<<15&4294967295|S>>>17),S=A+(L^(N|~I))+k[5]+4237533241&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~L))+k[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~N))+k[3]+2399980690&4294967295,L=I+(S<<10&4294967295|S>>>22),S=N+(I^(L|~A))+k[10]+4293915773&4294967295,N=L+(S<<15&4294967295|S>>>17),S=A+(L^(N|~I))+k[1]+2240044497&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~L))+k[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~N))+k[15]+4264355552&4294967295,L=I+(S<<10&4294967295|S>>>22),S=N+(I^(L|~A))+k[6]+2734768916&4294967295,N=L+(S<<15&4294967295|S>>>17),S=A+(L^(N|~I))+k[13]+1309151649&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~L))+k[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~N))+k[11]+3174756917&4294967295,L=I+(S<<10&4294967295|S>>>22),S=N+(I^(L|~A))+k[2]+718787259&4294967295,N=L+(S<<15&4294967295|S>>>17),S=A+(L^(N|~I))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var A=I-this.blockSize,k=this.B,N=this.h,L=0;L<I;){if(N==0)for(;L<=A;)a(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<I;)if(k[N++]=D.charCodeAt(L++),N==this.blockSize){a(this,k),N=0;break}}else for(;L<I;)if(k[N++]=D[L++],N==this.blockSize){a(this,k),N=0;break}}this.h=N,this.o+=I},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var A=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.u(D),D=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)D[A++]=this.g[I]>>>k&255;return D};function c(D,I){var A=m;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function f(D,I){this.h=I;for(var A=[],k=!0,N=D.length-1;0<=N;N--){var L=D[N]|0;k&&L==I||(A[N]=L,k=!1)}this.g=A}var m={};function y(D){return-128<=D&&128>D?c(D,function(I){return new f([I|0],0>I?-1:0)}):new f([D|0],0>D?-1:0)}function E(D){if(isNaN(D)||!isFinite(D))return C;if(0>D)return q(E(-D));for(var I=[],A=1,k=0;D>=A;k++)I[k]=D/A|0,A*=4294967296;return new f(I,0)}function w(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return q(w(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(I,8)),k=C,N=0;N<D.length;N+=8){var L=Math.min(8,D.length-N),S=parseInt(D.substring(N,N+L),I);8>L?(L=E(Math.pow(I,L)),k=k.j(L).add(E(S))):(k=k.j(A),k=k.add(E(S)))}return k}var C=y(0),V=y(1),B=y(16777216);i=f.prototype,i.m=function(){if(K(this))return-q(this).m();for(var D=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);D+=(0<=k?k:4294967296+k)*I,I*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(K(this))return"-"+q(this).toString(D);for(var I=E(Math.pow(D,6)),A=this,k="";;){var N=Se(A,I).g;A=ye(A,N.j(I));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=N,W(A))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function K(D){return D.h==-1}i.l=function(D){return D=ye(this,D),K(D)?-1:W(D)?0:1};function q(D){for(var I=D.g.length,A=[],k=0;k<I;k++)A[k]=~D.g[k];return new f(A,~D.h).add(V)}i.abs=function(){return K(this)?q(this):this},i.add=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],k=0,N=0;N<=I;N++){var L=k+(this.i(N)&65535)+(D.i(N)&65535),S=(L>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);k=S>>>16,L&=65535,S&=65535,A[N]=S<<16|L}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ye(D,I){return D.add(q(I))}i.j=function(D){if(W(this)||W(D))return C;if(K(this))return K(D)?q(this).j(q(D)):q(q(this).j(D));if(K(D))return q(this.j(q(D)));if(0>this.l(B)&&0>D.l(B))return E(this.m()*D.m());for(var I=this.g.length+D.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<D.g.length;N++){var L=this.i(k)>>>16,S=this.i(k)&65535,Ze=D.i(N)>>>16,Ct=D.i(N)&65535;A[2*k+2*N]+=S*Ct,_e(A,2*k+2*N),A[2*k+2*N+1]+=L*Ct,_e(A,2*k+2*N+1),A[2*k+2*N+1]+=S*Ze,_e(A,2*k+2*N+1),A[2*k+2*N+2]+=L*Ze,_e(A,2*k+2*N+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new f(A,0)};function _e(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function ve(D,I){this.g=D,this.h=I}function Se(D,I){if(W(I))throw Error("division by zero");if(W(D))return new ve(C,C);if(K(D))return I=Se(q(D),I),new ve(q(I.g),q(I.h));if(K(I))return I=Se(D,q(I)),new ve(q(I.g),I.h);if(30<D.g.length){if(K(D)||K(I))throw Error("slowDivide_ only works with positive integers.");for(var A=V,k=I;0>=k.l(D);)A=Je(A),k=Je(k);var N=De(A,1),L=De(k,1);for(k=De(k,2),A=De(A,2);!W(k);){var S=L.add(k);0>=S.l(D)&&(N=N.add(A),L=S),k=De(k,1),A=De(A,1)}return I=ye(D,N.j(I)),new ve(N,I)}for(N=C;0<=D.l(I);){for(A=Math.max(1,Math.floor(D.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=E(A),S=L.j(I);K(S)||0<S.l(D);)A-=k,L=E(A),S=L.j(I);W(L)&&(L=V),N=N.add(L),D=ye(D,S)}return new ve(N,D)}i.A=function(D){return Se(this,D).h},i.and=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&D.i(k);return new f(A,this.h&D.h)},i.or=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|D.i(k);return new f(A,this.h|D.h)},i.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^D.i(k);return new f(A,this.h^D.h)};function Je(D){for(var I=D.g.length+1,A=[],k=0;k<I;k++)A[k]=D.i(k)<<1|D.i(k-1)>>>31;return new f(A,D.h)}function De(D,I){var A=I>>5;I%=32;for(var k=D.g.length-A,N=[],L=0;L<k;L++)N[L]=0<I?D.i(L+A)>>>I|D.i(L+A+1)<<32-I:D.i(L+A);return new f(N,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Nm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=w,ki=f}).apply(typeof Np<"u"?Np:typeof self<"u"?self:typeof window<"u"?window:{});var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xm,qo,Lm,Ml,oh,Mm,Om,Fm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof kl=="object"&&kl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var M=l[v];if(!(M in g))break e;g=g[M]}l=l[l.length-1],v=g[l],d=d(v),d!=v&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,v=!1,M={next:function(){if(!v&&g<l.length){var z=g++;return{value:d(z,l[z]),done:!1}}return v=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function C(l,d,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,v),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function V(l,d,g){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:C,V.apply(null,arguments)}function B(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function W(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,M,z){for(var Y=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Y[Fe-2]=arguments[Fe];return d.prototype[M].apply(v,Y)}}function K(l){const d=l.length;if(0<d){const g=Array(d);for(let v=0;v<d;v++)g[v]=l[v];return g}return[]}function q(l,d){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(y(v)){const M=l.length||0,z=v.length||0;l.length=M+z;for(let Y=0;Y<z;Y++)l[M+Y]=v[Y]}else l.push(v)}}class ye{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _e(l){return/^[\s\xa0]*$/.test(l)}function ve(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var Je=ve().indexOf("Gecko")!=-1&&!(ve().toLowerCase().indexOf("webkit")!=-1&&ve().indexOf("Edge")==-1)&&!(ve().indexOf("Trident")!=-1||ve().indexOf("MSIE")!=-1)&&ve().indexOf("Edge")==-1;function De(l,d,g){for(const v in l)d.call(g,l[v],v,l)}function D(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function I(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let g,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(g in v)l[g]=v[g];for(let z=0;z<A.length;z++)g=A[z],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function N(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function L(l){m.setTimeout(()=>{throw l},0)}function S(){var l=ue;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const v=Ct.get();v.set(d,g),this.h?this.h.next=v:this.g=v,this.h=v}}var Ct=new ye(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,J=!1,ue=new Ze,ee=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(x)}};var x=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){L(g)}var d=Ct;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function we(l,d){if(ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Je){e:{try{Se(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&we.aa.h.call(this)}}W(we,ae);var Ce={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(l,d,g,v,M){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!v,this.ha=M,this.key=++Me,this.da=this.fa=!1}function pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gn(l){this.src=l,this.g={},this.h=0}Gn.prototype.add=function(l,d,g,v,M){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var Y=mr(l,d,v,M);return-1<Y?(d=l[Y],g||(d.fa=!1)):(d=new Be(d,this.src,z,!!v,M),d.fa=g,l.push(d)),d};function Mi(l,d){var g=d.type;if(g in l.g){var v=l.g[g],M=Array.prototype.indexOf.call(v,d,void 0),z;(z=0<=M)&&Array.prototype.splice.call(v,M,1),z&&(pt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mr(l,d,g,v){for(var M=0;M<l.length;++M){var z=l[M];if(!z.da&&z.listener==d&&z.capture==!!g&&z.ha==v)return M}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Oi={};function Gs(l,d,g,v,M){if(Array.isArray(d)){for(var z=0;z<d.length;z++)Gs(l,d[z],g,v,M);return null}return g=Ys(g),l&&l[Le]?l.K(d,g,E(v)?!!v.capture:!!v,M):Ks(l,d,g,!1,v,M)}function Ks(l,d,g,v,M,z){if(!d)throw Error("Invalid event type");var Y=E(M)?!!M.capture:!!M,Fe=Ui(l);if(Fe||(l[Jr]=Fe=new Gn(l)),g=Fe.add(d,g,v,Y,z),g.proxy)return g;if(v=da(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)Ee||(M=Y),M===void 0&&(M=!1),l.addEventListener(d.toString(),v,M);else if(l.attachEvent)l.attachEvent(Xn(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function da(){function l(g){return d.call(l.src,l.listener,g)}const d=Xs;return l}function Fi(l,d,g,v,M){if(Array.isArray(d))for(var z=0;z<d.length;z++)Fi(l,d[z],g,v,M);else v=E(v)?!!v.capture:!!v,g=Ys(g),l&&l[Le]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],g=mr(z,g,v,M),-1<g&&(pt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=Ui(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mr(d,g,v,M)),(g=-1<l?d[l]:null)&&Kn(g))}function Kn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Le])Mi(d.i,l);else{var g=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(g,v,l.capture):d.detachEvent?d.detachEvent(Xn(g),v):d.addListener&&d.removeListener&&d.removeListener(v),(g=Ui(d))?(Mi(g,l),g.h==0&&(g.src=null,d[Jr]=null)):pt(l)}}}function Xn(l){return l in Oi?Oi[l]:Oi[l]="on"+l}function Xs(l,d){if(l.da)l=!0;else{d=new we(d,this);var g=l.listener,v=l.ha||l.src;l.fa&&Kn(l),l=g.call(v,d)}return l}function Ui(l){return l=l[Jr],l instanceof Gn?l:null}var zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ys(l){return typeof l=="function"?l:(l[zi]||(l[zi]=function(d){return l.handleEvent(d)}),l[zi])}function at(){b.call(this),this.i=new Gn(this),this.M=this,this.F=null}W(at,b),at.prototype[Le]=!0,at.prototype.removeEventListener=function(l,d,g,v){Fi(this,l,d,g,v)};function lt(l,d){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new ae(d,l);else if(d instanceof ae)d.target=d.target||l;else{var M=d;d=new ae(v,l),k(d,M)}if(M=!0,g)for(var z=g.length-1;0<=z;z--){var Y=d.g=g[z];M=Yn(Y,v,!0,d)&&M}if(Y=d.g=l,M=Yn(Y,v,!0,d)&&M,M=Yn(Y,v,!1,d)&&M,g)for(z=0;z<g.length;z++)Y=d.g=g[z],M=Yn(Y,v,!1,d)&&M}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],v=0;v<g.length;v++)pt(g[v]);delete l.g[d],l.h--}}this.F=null},at.prototype.K=function(l,d,g,v){return this.i.add(String(l),d,!1,g,v)},at.prototype.L=function(l,d,g,v){return this.i.add(String(l),d,!0,g,v)};function Yn(l,d,g,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,z=0;z<d.length;++z){var Y=d[z];if(Y&&!Y.da&&Y.capture==g){var Fe=Y.listener,ut=Y.ha||Y.src;Y.fa&&Mi(l.i,Y),M=Fe.call(ut,v)!==!1&&M}}return M&&!v.defaultPrevented}function Js(l,d,g){if(typeof l=="function")g&&(l=V(l,g));else if(l&&typeof l.handleEvent=="function")l=V(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function gr(l){l.g=Js(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Zr extends b{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(l){b.call(this),this.h=l,this.g={}}W(ei,b);var Zs=[];function eo(l){De(l.g,function(d,g){this.g.hasOwnProperty(g)&&Kn(d)},l),l.g={}}ei.prototype.N=function(){ei.aa.N.call(this),eo(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var to=m.JSON.stringify,no=m.JSON.parse,ro=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ti(){}ti.prototype.h=null;function Bi(l){return l.h||(l.h=l.i())}function ji(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){ae.call(this,"d")}W(xn,ae);function bi(){ae.call(this,"c")}W(bi,ae);var Ln={},io=null;function ni(){return io=io||new at}Ln.La="serverreachability";function so(l){ae.call(this,Ln.La,l)}W(so,ae);function Jn(l){const d=ni();lt(d,new so(d))}Ln.STAT_EVENT="statevent";function oo(l,d){ae.call(this,Ln.STAT_EVENT,l),this.stat=d}W(oo,ae);function et(l){const d=ni();lt(d,new oo(d,l))}Ln.Ma="timingevent";function $i(l,d){ae.call(this,Ln.Ma,l),this.size=d}W($i,ae);function gn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function ii(l,d,g,v,M,z){l.info(function(){if(l.g)if(z)for(var Y="",Fe=z.split("&"),ut=0;ut<Fe.length;ut++){var Pe=Fe[ut].split("=");if(1<Pe.length){var mt=Pe[0];Pe=Pe[1];var rt=mt.split("_");Y=2<=rt.length&&rt[1]=="type"?Y+(mt+"="+Pe+"&"):Y+(mt+"=redacted&")}}else Y=null;else Y=z;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+d+`
`+g+`
`+Y})}function qi(l,d,g,v,M,z,Y){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+d+`
`+g+`
`+z+" "+Y})}function yn(l,d,g,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+mu(l,g)+(v?" "+v:"")})}function ao(l,d){l.info(function(){return"TIMEOUT: "+d})}ri.prototype.info=function(){};function mu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var M=v[1];if(Array.isArray(M)&&!(1>M.length)){var z=M[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Y=1;Y<M.length;Y++)M[Y]=""}}}}return to(g)}catch{return d}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function si(){}W(si,ti),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},_n=new si;function vn(l,d,g,v){this.j=l,this.i=d,this.l=g,this.R=v||1,this.U=new ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ma}function ma(){this.i=null,this.g="",this.h=!1}var lo={},Qi={};function Wi(l,d,g){l.L=1,l.v=wr(Jt(d)),l.m=g,l.P=!0,uo(l,null)}function uo(l,d){l.F=Date.now(),je(l),l.A=Jt(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Ir(g.i,"t",v),l.C=0,g=l.j.J,l.h=new ma,l.g=xa(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Zr(V(l.Y,l,l.g),l.O)),d=l.U,g=l.g,v=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Zs[0]=M.toString()),M=Zs);for(var z=0;z<M.length;z++){var Y=Gs(g,M[z],v||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Jn(),ii(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&jt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const rt=jt(this.g);var d=this.g.Ba();const un=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||go(this.g)))){this.J||rt!=4||d==7||(d==8||0>=un?Jn(3):Jn(2)),oi(this);var g=this.g.Z();this.X=g;t:if(ga(this)){var v=go(this.g);l="";var M=v.length,z=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),yr(this);var Y="";break t}this.h.i=new m.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(z&&d==M-1)});v.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,qi(this.i,this.u,this.A,this.l,this.R,rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ut=this.g;if((Fe=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(Fe)){var Pe=Fe;break t}}Pe=null}if(g=Pe)yn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,g);else{this.o=!1,this.s=3,et(12),an(this),yr(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<Y.length;)if(en=gu(this,Y),en==Qi){rt==4&&(this.s=4,et(14),g=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==lo){this.s=4,et(15),yn(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else yn(this.i,this.l,en,null),co(this,en);if(ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||Y.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)yn(this.i,this.l,Y,"[Invalid Chunked Response]"),an(this),yr(this);else if(0<Y.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),_o(mt),mt.M=!0,et(11))}}else yn(this.i,this.l,Y,null),co(this,Y);rt==4&&an(this),this.o&&!this.J&&(rt==4?is(this.j,this):(this.o=!1,je(this)))}else Zi(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),an(this),yr(this)}}}catch{}finally{}};function ga(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function gu(l,d){var g=l.C,v=d.indexOf(`
`,g);return v==-1?Qi:(g=Number(d.substring(g,v)),isNaN(g)?lo:(v+=1,v+g>d.length?Qi:(d=d.slice(v,v+g),l.C=v+g,d)))}vn.prototype.cancel=function(){this.J=!0,an(this)};function je(l){l.S=Date.now()+l.I,ya(l,l.I)}function ya(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=gn(V(l.ba,l),d)}function oi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ao(this.i,this.A),this.L!=2&&(Jn(),et(17)),an(this),this.s=2,yr(this)):ya(this,this.S-l)};function yr(l){l.j.G==0||l.J||is(l.j,l)}function an(l){oi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,eo(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function co(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ot(g.h,l))){if(!l.K&&Ot(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)rs(g),Sn(g);else break e;ns(g),et(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=gn(V(g.Za,g),6e3));if(1>=va(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else rr(g,11)}else if((l.K||g.g==l)&&rs(g),!_e(d))for(M=g.Da.g.parse(d),d=0;d<M.length;d++){let Pe=M[d];if(g.T=Pe[0],Pe=Pe[1],g.G==2)if(Pe[0]=="c"){g.K=Pe[1],g.ia=Pe[2];const mt=Pe[3];mt!=null&&(g.la=mt,g.j.info("VER="+g.la));const rt=Pe[4];rt!=null&&(g.Aa=rt,g.j.info("SVER="+g.Aa));const un=Pe[5];un!=null&&typeof un=="number"&&0<un&&(v=1.5*un,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const en=l.g;if(en){const di=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var z=v.h;z.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ho(z,z.h),z.h=null))}if(v.D){const os=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;os&&(v.ya=os,ze(v.I,v.D,os))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var Y=l;if(v.qa=Na(v,v.J?v.ia:null,v.W),Y.K){Ea(v.h,Y);var Fe=Y,ut=v.L;ut&&(Fe.I=ut),Fe.B&&(oi(Fe),je(Fe)),v.g=Y}else fi(v);0<g.i.length&&Un(g)}else Pe[0]!="stop"&&Pe[0]!="close"||rr(g,7);else g.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?rr(g,7):wt(g):Pe[0]!="noop"&&g.l&&g.l.ta(Pe),g.v=0)}}Jn(4)}catch{}}var _a=class{constructor(l,d){this.g=l,this.map=d}};function ai(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function va(l){return l.h?1:l.g?l.g.size:0}function Ot(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function ho(l,d){l.g?l.g.add(d):l.h=d}function Ea(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ai.prototype.cancel=function(){if(this.i=wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function wa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return K(l.i)}function Gi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,v=0;v<g;v++)d.push(l[v]);return d}d=[],g=0;for(v in l)d[g++]=l[v];return d}function Ki(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const v in l)d[g++]=v;return d}}}function _r(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Ki(l),v=Gi(l),M=v.length,z=0;z<M;z++)d.call(void 0,v[z],g&&g[z],l)}var li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),M=null;if(0<=v){var z=l[g].substring(0,v);M=l[g].substring(v+1)}else z=l[g];d(z,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Zn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zn){this.h=l.h,ui(this,l.j),this.o=l.o,this.g=l.g,vr(this,l.s),this.l=l.l;var d=l.i,g=new Mn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Er(this,g),this.m=l.m}else l&&(d=String(l).match(li))?(this.h=!1,ui(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),vr(this,d[4]),this.l=Ae(d[5]||"",!0),Er(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}Zn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Tr(d,Xi,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Tr(d,Xi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Tr(g,g.charAt(0)=="/"?Sa:Ia,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Tr(g,fo)),l.join("")};function Jt(l){return new Zn(l)}function ui(l,d,g){l.j=g?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function vr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Er(l,d,g){d instanceof Mn?(l.i=d,On(l.i,l.h)):(g||(d=Tr(d,Aa)),l.i=new Mn(d,l.h))}function ze(l,d,g){l.i.set(d,g)}function wr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Ta),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ta(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Xi=/[#\/\?@]/g,Ia=/[#\?:]/g,Sa=/[#\?]/g,Aa=/[#\?@]/g,fo=/#/g;function Mn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&yu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Mn.prototype,i.add=function(l,d){Et(this),this.i=null,l=ln(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function En(l,d){Et(l),d=ln(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wn(l,d){return Et(l),d=ln(l,d),l.g.has(d)}i.forEach=function(l,d){Et(this),this.g.forEach(function(g,v){g.forEach(function(M){l.call(d,M,v,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let v=0;v<d.length;v++){const M=l[v];for(let z=0;z<M.length;z++)g.push(d[v])}return g},i.V=function(l){Et(this);let d=[];if(typeof l=="string")wn(this,l)&&(d=d.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return Et(this),this.i=null,l=ln(this,l),wn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ir(l,d,g){En(l,d),0<g.length&&(l.i=null,l.g.set(ln(l,d),K(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var v=d[g];const z=encodeURIComponent(String(v)),Y=this.V(v);for(v=0;v<Y.length;v++){var M=z;Y[v]!==""&&(M+="="+encodeURIComponent(String(Y[v]))),l.push(M)}}return this.i=l.join("&")};function ln(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function On(l,d){d&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(g,v){var M=v.toLowerCase();v!=M&&(En(this,v),Ir(this,M,g))},l)),l.j=d}function _u(l,d){const g=new ri;if(m.Image){const v=new Image;v.onload=B(Bt,g,"TestLoadImage: loaded",!0,d,v),v.onerror=B(Bt,g,"TestLoadImage: error",!1,d,v),v.onabort=B(Bt,g,"TestLoadImage: abort",!1,d,v),v.ontimeout=B(Bt,g,"TestLoadImage: timeout",!1,d,v),m.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function Ra(l,d){const g=new ri,v=new AbortController,M=setTimeout(()=>{v.abort(),Bt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(z=>{clearTimeout(M),z.ok?Bt(g,"TestPingServer: ok",!0,d):Bt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Bt(g,"TestPingServer: error",!1,d)})}function Bt(l,d,g,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(g)}catch{}}function vu(){this.g=new ro}function Ca(l,d,g){const v=g||"";try{_r(l,function(M,z){let Y=M;E(M)&&(Y=to(M)),d.push(v+z+"="+encodeURIComponent(Y))})}catch(M){throw d.push(v+"type="+encodeURIComponent("_badmap")),M}}function er(l){this.l=l.Ub||null,this.j=l.eb||!1}W(er,ti),er.prototype.g=function(){return new ci(this.l,this.j)},er.prototype.i=function(l){return function(){return l}}({});function ci(l,d){at.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(ci,at),i=ci.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Tn(this):In(this),this.readyState==3&&Pa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Tn(this))},i.Qa=function(l){this.g&&(this.response=l,Tn(this))},i.ga=function(){this.g&&Tn(this)};function Tn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tr(l){let d="";return De(l,function(g,v){d+=v,d+=":",d+=g,d+=`\r
`}),d}function Sr(l,d,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=tr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ze(l,d,g))}function Qe(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Qe,at);var Eu=/^https?$/i,po=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?Bi(this.o):Bi(_n),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){hi(this,z);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)g.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const z of v.keys())g.set(z,v.get(z));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(po,d,void 0))||v||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Y]of g)this.g.setRequestHeader(z,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ji(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){hi(this,z)}};function hi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Yi(l),Zt(l)}function Yi(l){l.A||(l.A=!0,lt(l,"complete"),lt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?mo(this):this.bb())},i.bb=function(){mo(this)};function mo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||jt(l)!=4||l.Z()!=2)){if(l.u&&jt(l)==4)Js(l.Ea,0,l);else if(lt(l,"readystatechange"),jt(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var v;if(v=Y===0){var M=String(l.D).match(li)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),v=!Eu.test(M?M.toLowerCase():"")}g=v}if(g)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var z=2<jt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",Yi(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){Ji(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||lt(l,"ready");try{g.onreadystatechange=v}catch{}}}function Ji(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function jt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),no(d)}};function go(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(l){const d={};l=(l.g&&2<=jt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(_e(l[v]))continue;var g=N(l[v]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=d[M]||[];d[M]=z,z.push(g)}D(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function yo(l){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(l&&l.concurrentRequestLimit),this.Da=new vu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=yo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,v){et(0),this.W=l,this.H=d||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Na(this,null,this.W),Un(this)};function wt(l){if(es(l),l.G==3){var d=l.U++,g=Jt(l.I);if(ze(g,"SID",l.K),ze(g,"RID",d),ze(g,"TYPE","terminate"),nr(l,g),d=new vn(l,l.j,d),d.L=2,d.v=wr(Jt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=xa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),je(d)}Da(l)}function Sn(l){l.g&&(_o(l),l.g.cancel(),l.g=null)}function es(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),rs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Yt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ue||ee(),J||(Ue(),J=!0),ue.add(d,l),l.B=0}}function wu(l,d){return va(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=gn(V(l.Ga,l,d),Va(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new vn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=I(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(M.H=z,z=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Ar(this,M,d),g=Jt(this.I),ze(g,"RID",l),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),nr(this,g),z&&(this.O?d="headers="+encodeURIComponent(String(tr(z)))+"&"+d:this.m&&Sr(g,this.m,z)),ho(this.h,M),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",d),ze(g,"SID","null"),M.T=!0,Wi(M,g,null)):Wi(M,g,d),this.G=2}}else this.G==3&&(l?ts(this,l):this.i.length==0||Yt(this.h)||ts(this))};function ts(l,d){var g;d?g=d.l:g=l.U++;const v=Jt(l.I);ze(v,"SID",l.K),ze(v,"RID",g),ze(v,"AID",l.T),nr(l,v),l.m&&l.o&&Sr(v,l.m,l.o),g=new vn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Ar(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ho(l.h,g),Wi(g,v,d)}function nr(l,d){l.H&&De(l.H,function(g,v){ze(d,v,g)}),l.l&&_r({},function(g,v){ze(d,v,g)})}function Ar(l,d,g){g=Math.min(l.i.length,g);var v=l.l?V(l.l.Na,l.l,l):null;e:{var M=l.i;let z=-1;for(;;){const Y=["count="+g];z==-1?0<g?(z=M[0].g,Y.push("ofs="+z)):z=0:Y.push("ofs="+z);let Fe=!0;for(let ut=0;ut<g;ut++){let Pe=M[ut].g;const mt=M[ut].map;if(Pe-=z,0>Pe)z=Math.max(0,M[ut].g-100),Fe=!1;else try{Ca(mt,Y,"req"+Pe+"_")}catch{v&&v(mt)}}if(Fe){v=Y.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,v}function fi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ue||ee(),J||(Ue(),J=!0),ue.add(d,l),l.v=0}}function ns(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=gn(V(l.Fa,l),Va(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gn(V(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Sn(this),ka(this))};function _o(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function ka(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),nr(l,d),l.m&&l.o&&Sr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=wr(Jt(d)),g.m=null,g.P=!0,uo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),ns(this),et(19))};function rs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function is(l,d){var g=null;if(l.g==d){rs(l),_o(l),l.g=null;var v=2}else if(Ot(l.h,d))g=d.D,Ea(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;v=ni(),lt(v,new $i(v,g)),Un(l)}else fi(l);else if(M=d.s,M==3||M==0&&0<d.X||!(v==1&&wu(l,d)||v==2&&ns(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),M){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function Va(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function rr(l,d){if(l.j.info("Error code "+d),d==2){var g=V(l.fb,l),v=l.Xa;const M=!v;v=new Zn(v||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ui(v,"https"),wr(v),M?_u(v.toString(),g):Ra(v.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),Da(l),es(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Da(l){if(l.G=0,l.ka=[],l.l){const d=wa(l.h);(d.length!=0||l.i.length!=0)&&(q(l.ka,d),q(l.ka,l.i),l.h.i.length=0,K(l.i),l.i.length=0),l.l.ra()}}function Na(l,d,g){var v=g instanceof Zn?Jt(g):new Zn(g);if(v.g!="")d&&(v.g=d+"."+v.g),vr(v,v.s);else{var M=m.location;v=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var z=new Zn(null);v&&ui(z,v),d&&(z.g=d),M&&vr(z,M),g&&(z.l=g),v=z}return g=l.D,d=l.ya,g&&d&&ze(v,g,d),ze(v,"VER",l.la),nr(l,v),v}function xa(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new er({eb:g})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function vo(){}i=vo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ss(){}ss.prototype.g=function(l,d){return new Ft(l,d)};function Ft(l,d){at.call(this),this.g=new yo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!_e(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_e(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new zn(this)}W(Ft,at),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){wt(this.g)},Ft.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=to(l),l=g);d.i.push(new _a(d.Ya++,l)),d.G==3&&Un(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,wt(this.g),delete this.g,Ft.aa.N.call(this)};function La(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}W(La,xn);function Ma(){bi.call(this),this.status=1}W(Ma,bi);function zn(l){this.g=l}W(zn,vo),zn.prototype.ua=function(){lt(this.g,"a")},zn.prototype.ta=function(l){lt(this.g,new La(l))},zn.prototype.sa=function(l){lt(this.g,new Ma)},zn.prototype.ra=function(){lt(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Fm=function(){return new ss},Om=function(){return ni()},Mm=Ln,oh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Ml=Hi,pa.COMPLETE="complete",Lm=pa,ji.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",at.prototype.listen=at.prototype.K,qo=ji,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,xm=Qe}).apply(typeof kl<"u"?kl:typeof self<"u"?self:typeof window<"u"?window:{});const xp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $s="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Rm("@firebase/firestore");function Cs(){return Di.logLevel}function te(i,...e){if(Di.logLevel<=Ve.DEBUG){const n=e.map(Ah);Di.debug(`Firestore (${$s}): ${i}`,...n)}}function dr(i,...e){if(Di.logLevel<=Ve.ERROR){const n=e.map(Ah);Di.error(`Firestore (${$s}): ${i}`,...n)}}function Ls(i,...e){if(Di.logLevel<=Ve.WARN){const n=e.map(Ah);Di.warn(`Firestore (${$s}): ${i}`,...n)}}function Ah(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(i="Unexpected state"){const e=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: `+i;throw dr(e),new Error(e)}function Oe(i,e){i||pe()}function ge(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $v{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class qv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Hv{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string"),new Um(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Lt(e)}}class Qv{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Wv{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Qv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new Gv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Xv(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function Ms(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new ft(0,0))}static max(){return new me(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,s){n===void 0?n=0:n>e.length&&pe(),s===void 0?s=e.length-n:s>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends ea{construct(e,n,s){return new He(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new re($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new He(n)}static emptyPath(){return new He([])}}const Yv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends ea{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return Yv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new re($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new re($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new re($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new re($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(He.fromString(e))}static fromName(e){return new le(He.fromString(e).popFirst(5))}static empty(){return new le(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new He(e.slice()))}}function Jv(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=me.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Hr(a,le.empty(),e)}function Zv(i){return new Hr(i.readTime,i.key,-1)}class Hr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(me.min(),le.empty(),-1)}static max(){return new Hr(me.max(),le.empty(),-1)}}function e0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==t0)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(a=>a?j.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new j((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const E=y;n(e[E]).next(w=>{f[E]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new j((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function r0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zl.oe=-1;function eu(i){return i==null}function Hl(i){return i===0&&1/i==-1/0}function i0(i){return typeof i=="number"&&Number.isInteger(i)&&!Hl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Lp(e)),e=o0(i.get(n),e);return Lp(e)}function o0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Lp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Xr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Bm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vl(this.root,e,this.comparator,!0)}}class Vl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??St.RED,this.left=a??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new St(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,s,a,c){return this}insert(e,n,s){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Op(this.data.getIterator())}getIteratorFrom(e){return new Op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class Op{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new sn([])}unionWith(e){let n=new dt(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jm("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const a0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(i){if(Oe(!!i),typeof i=="string"){let e=0;const n=a0.exec(i);if(Oe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tu(i){const e=i.mapValue.fields.__previous_value__;return Rh(e)?tu(e):e}function ta(i){const e=Qr(i.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,s,a,c,f,m,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=E}}class na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rh(i)?4:c0(i)?9007199254740991:u0(i)?10:11:pe()}function Wn(i,e){if(i===e)return!0;const n=Gr(i);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ta(i).isEqual(ta(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Qr(a.timestampValue),m=Qr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Wr(a.bytesValue).isEqual(Wr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),m=nt(c.doubleValue);return f===m?Hl(f)===Hl(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ms(i.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Mp(f)!==Mp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Wn(f[y],m[y])))return!1;return!0}(i,e);default:return pe()}}function ra(i,e){return(i.values||[]).find(n=>Wn(n,e))!==void 0}function Os(i,e){if(i===e)return 0;const n=Gr(i),s=Gr(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=nt(c.integerValue||c.doubleValue),y=nt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Fp(i.timestampValue,e.timestampValue);case 4:return Fp(ta(i),ta(e));case 5:return Re(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Wr(c),y=Wr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let E=0;E<m.length&&E<y.length;E++){const w=Re(m[E],y[E]);if(w!==0)return w}return Re(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Re(nt(c.latitude),nt(f.latitude));return m!==0?m:Re(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Up(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,E,w;const C=c.fields||{},V=f.fields||{},B=(m=C.value)===null||m===void 0?void 0:m.arrayValue,W=(y=V.value)===null||y===void 0?void 0:y.arrayValue,K=Re(((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0,((w=W==null?void 0:W.values)===null||w===void 0?void 0:w.length)||0);return K!==0?K:Up(B,W)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Dl.mapValue&&f===Dl.mapValue)return 0;if(c===Dl.mapValue)return 1;if(f===Dl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),E=f.fields||{},w=Object.keys(E);y.sort(),w.sort();for(let C=0;C<y.length&&C<w.length;++C){const V=Re(y[C],w[C]);if(V!==0)return V;const B=Os(m[y[C]],E[w[C]]);if(B!==0)return B}return Re(y.length,w.length)}(i.mapValue,e.mapValue);default:throw pe()}}function Fp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=Qr(i),s=Qr(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function Up(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Os(n[a],s[a]);if(c)return c}return Re(n.length,s.length)}function Fs(i){return ah(i)}function ah(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Wr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return le.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=ah(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${ah(n.fields[f])}`;return a+"}"}(i.mapValue):pe()}function Ol(i){switch(Gr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tu(i);return e?16+Ol(e):16;case 5:return 2*i.stringValue.length;case 6:return Wr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Ol(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Xr(s.fields,(c,f)=>{a+=c.length+Ol(f)}),a}(i.mapValue);default:throw pe()}}function zp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function lh(i){return!!i&&"integerValue"in i}function Ch(i){return!!i&&"arrayValue"in i}function Bp(i){return!!i&&"nullValue"in i}function jp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fl(i){return!!i&&"mapValue"in i}function u0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Go(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Xr(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Go(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Go(i.arrayValue.values[n]);return e}return Object.assign({},i)}function c0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Go(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Fl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Fl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Xr(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Kt(Go(this.value))}}function bm(i){const e=[];return Xr(i.fields,(n,s)=>{const a=new At([n]);if(Fl(s)){const c=bm(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,me.min(),me.min(),me.min(),Kt.empty(),0)}static newFoundDocument(e,n,s,a){return new Mt(e,1,n,me.min(),s,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,me.min(),me.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,me.min(),me.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.position=e,this.inclusive=n}}function bp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=le.comparator(le.fromName(f.referenceValue),n.key):s=Os(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $p(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n="asc"){this.field=e,this.dir=n}}function h0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{}class ot extends $m{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new d0(e,n,s):n==="array-contains"?new g0(e,s):n==="in"?new y0(e,s):n==="not-in"?new _0(e,s):n==="array-contains-any"?new v0(e,s):new ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new p0(e,s):new m0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Os(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends $m{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nn(e,n)}matches(e){return qm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qm(i){return i.op==="and"}function Hm(i){return f0(i)&&qm(i)}function f0(i){for(const e of i.filters)if(e instanceof Nn)return!1;return!0}function uh(i){if(i instanceof ot)return i.field.canonicalString()+i.op.toString()+Fs(i.value);if(Hm(i))return i.filters.map(e=>uh(e)).join(",");{const e=i.filters.map(n=>uh(n)).join(",");return`${i.op}(${e})`}}function Qm(i,e){return i instanceof ot?function(s,a){return a instanceof ot&&s.op===a.op&&s.field.isEqual(a.field)&&Wn(s.value,a.value)}(i,e):i instanceof Nn?function(s,a){return a instanceof Nn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Qm(f,a.filters[m]),!0):!1}(i,e):void pe()}function Wm(i){return i instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(i):i instanceof Nn?function(n){return n.op.toString()+" {"+n.getFilters().map(Wm).join(" ,")+"}"}(i):"Filter"}class d0 extends ot{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class p0 extends ot{constructor(e,n){super(e,"in",n),this.keys=Gm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m0 extends ot{constructor(e,n){super(e,"not-in",n),this.keys=Gm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Gm(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>le.fromName(s.referenceValue))}class g0 extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ch(n)&&ra(n.arrayValue,this.value)}}class y0 extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ra(this.value.arrayValue,n)}}class _0 extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ra(this.value.arrayValue,n)}}class v0 extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ra(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function qp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new E0(i,e,n,s,a,c,f)}function Ph(i){const e=ge(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>uh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),eu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fs(s)).join(",")),e.ue=n}return e.ue}function kh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!h0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Qm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$p(i.startAt,e.startAt)&&$p(i.endAt,e.endAt)}function ch(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function w0(i,e,n,s,a,c,f,m){return new Qs(i,e,n,s,a,c,f,m)}function Vh(i){return new Qs(i)}function Hp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Km(i){return i.collectionGroup!==null}function Ko(i){const e=ge(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new dt(At.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(E=>{E.isInequality()&&(m=m.add(E.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new ia(c,s))}),n.has(At.keyField().canonicalString())||e.ce.push(new ia(At.keyField(),s))}return e.ce}function qn(i){const e=ge(i);return e.le||(e.le=T0(e,Ko(i))),e.le}function T0(i,e){if(i.limitType==="F")return qp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new ia(a.field,c)});const n=i.endAt?new Ql(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ql(i.startAt.position,i.startAt.inclusive):null;return qp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function hh(i,e){const n=i.filters.concat([e]);return new Qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function fh(i,e,n){return new Qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nu(i,e){return kh(qn(i),qn(e))&&i.limitType===e.limitType}function Xm(i){return`${Ph(qn(i))}|lt:${i.limitType}`}function Ps(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Wm(a)).join(", ")}]`),eu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Fs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Fs(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function ru(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):le.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Ko(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const E=bp(f,m,y);return f.inclusive?E<=0:E<0}(s.startAt,Ko(s),a)||s.endAt&&!function(f,m,y){const E=bp(f,m,y);return f.inclusive?E>=0:E>0}(s.endAt,Ko(s),a))}(i,e)}function I0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ym(i){return(e,n)=>{let s=!1;for(const a of Ko(i)){const c=S0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function S0(i,e,n){const s=i.field.isKeyField()?le.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),E=m.data.field(c);return y!==null&&E!==null?Os(y,E):pe()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Bm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Xe(le.comparator);function pr(){return A0}const Jm=new Xe(le.comparator);function Ho(...i){let e=Jm;for(const n of i)e=e.insert(n.key,n);return e}function Zm(i){let e=Jm;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Pi(){return Xo()}function eg(){return Xo()}function Xo(){return new Ni(i=>i.toString(),(i,e)=>i.isEqual(e))}const R0=new Xe(le.comparator),C0=new dt(le.comparator);function Ie(...i){let e=C0;for(const n of i)e=e.add(n);return e}const P0=new dt(Re);function k0(){return P0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(e)?"-0":e}}function tg(i){return{integerValue:""+i}}function V0(i,e){return i0(e)?tg(e):Dh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this._=void 0}}function D0(i,e,n){return i instanceof sa?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Rh(c)&&(c=tu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof oa?rg(i,e):i instanceof aa?ig(i,e):function(a,c){const f=ng(a,c),m=Qp(f)+Qp(a.Pe);return lh(f)&&lh(a.Pe)?tg(m):Dh(a.serializer,m)}(i,e)}function N0(i,e,n){return i instanceof oa?rg(i,e):i instanceof aa?ig(i,e):n}function ng(i,e){return i instanceof Wl?function(s){return lh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class sa extends iu{}class oa extends iu{constructor(e){super(),this.elements=e}}function rg(i,e){const n=sg(e);for(const s of i.elements)n.some(a=>Wn(a,s))||n.push(s);return{arrayValue:{values:n}}}class aa extends iu{constructor(e){super(),this.elements=e}}function ig(i,e){let n=sg(e);for(const s of i.elements)n=n.filter(a=>!Wn(a,s));return{arrayValue:{values:n}}}class Wl extends iu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qp(i){return nt(i.integerValue||i.doubleValue)}function sg(i){return Ch(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.field=e,this.transform=n}}function L0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof oa&&a instanceof oa||s instanceof aa&&a instanceof aa?Ms(s.elements,a.elements,Wn):s instanceof Wl&&a instanceof Wl?Wn(s.Pe,a.Pe):s instanceof sa&&a instanceof sa}(i.transform,e.transform)}class M0{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ul(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class su{}function og(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Nh(i.key,Dn.none()):new la(i.key,i.data,Dn.none());{const n=i.data,s=Kt.empty();let a=new dt(At.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Yr(i.key,s,new sn(a.toArray()),Dn.none())}}function O0(i,e,n){i instanceof la?function(a,c,f){const m=a.value.clone(),y=Gp(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Yr?function(a,c,f){if(!Ul(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Gp(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(ag(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yo(i,e,n,s){return i instanceof la?function(c,f,m,y){if(!Ul(c.precondition,f))return m;const E=c.value.clone(),w=Kp(c.fieldTransforms,y,f);return E.setAll(w),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof Yr?function(c,f,m,y){if(!Ul(c.precondition,f))return m;const E=Kp(c.fieldTransforms,y,f),w=f.data;return w.setAll(ag(c)),w.setAll(E),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(c,f,m){return Ul(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function F0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=ng(s.transform,a||null);c!=null&&(n===null&&(n=Kt.empty()),n.set(s.field,c))}return n||null}function Wp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ms(s,a,(c,f)=>L0(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class la extends su{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yr extends su{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ag(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Gp(i,e,n){const s=new Map;Oe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,N0(f,m,n[a]))}return s}function Kp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,D0(c,f,e))}return s}class Nh extends su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U0 extends su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&O0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=eg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=og(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(me.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(n,s)=>Wp(n,s))&&Ms(this.baseMutations,e.baseMutations,(n,s)=>Wp(n,s))}}class xh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Oe(e.mutations.length===s.length);let a=function(){return R0}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new xh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,ke;function b0(i){switch(i){default:return pe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function lg(i){if(i===void 0)return dr("GRPC error has no .code"),$.UNKNOWN;switch(i){case st.OK:return $.OK;case st.CANCELLED:return $.CANCELLED;case st.UNKNOWN:return $.UNKNOWN;case st.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case st.INTERNAL:return $.INTERNAL;case st.UNAVAILABLE:return $.UNAVAILABLE;case st.UNAUTHENTICATED:return $.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case st.NOT_FOUND:return $.NOT_FOUND;case st.ALREADY_EXISTS:return $.ALREADY_EXISTS;case st.PERMISSION_DENIED:return $.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case st.ABORTED:return $.ABORTED;case st.OUT_OF_RANGE:return $.OUT_OF_RANGE;case st.UNIMPLEMENTED:return $.UNIMPLEMENTED;case st.DATA_LOSS:return $.DATA_LOSS;default:return pe()}}(ke=st||(st={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new ki([4294967295,4294967295],0);function Xp(i){const e=$0().encode(i),n=new Nm;return n.update(e),new Uint8Array(n.digest())}function Yp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ki([n,s],0),new ki([a,c],0)]}class Lh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Qo(`Invalid padding: ${n}`);if(s<0)throw new Qo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Qo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Qo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ki.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(ki.fromNumber(s)));return a.compare(q0)===1&&(a=new ki([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Xp(e),[s,a]=Yp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Lh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Xp(e),[s,a]=Yp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ou(me.min(),a,new Xe(Re),pr(),Ie())}}class ua{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ua(s,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class ug{constructor(e,n){this.targetId=e,this.me=n}}class cg{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Jp{constructor(){this.fe=0,this.ge=Zp(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),s=Ie();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:pe()}}),new ua(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Zp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class H0{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=Nl(),this.Qe=Nl(),this.Ke=new Xe(Re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(ch(c))if(s===0){const f=new le(c.path);this.We(n,f,Mt.newNoDocument(f,me.min()))}else Oe(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,E)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Wr(s).toUint8Array()}catch(y){if(y instanceof jm)return Ls("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Lh(f,a,c)}catch(y){return Ls(y instanceof Qo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&ch(m.target)){const y=new le(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Mt.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ie();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const E=this.Ye(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new ou(e,n,this.Ke,this.ke,s);return this.ke=pr(),this.qe=Nl(),this.Qe=Nl(),this.Ke=new Xe(Re),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Jp,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new dt(Re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Jp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Nl(){return new Xe(le.comparator)}function Zp(){return new Xe(le.comparator)}const Q0={asc:"ASCENDING",desc:"DESCENDING"},W0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G0={and:"AND",or:"OR"};class K0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dh(i,e){return i.useProto3Json||eu(e)?e:{value:e}}function Gl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function X0(i,e){return Gl(i,e.toTimestamp())}function Hn(i){return Oe(!!i),me.fromTimestamp(function(n){const s=Qr(n);return new ft(s.seconds,s.nanos)}(i))}function Mh(i,e){return ph(i,e).canonicalString()}function ph(i,e){const n=function(a){return new He(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function fg(i){const e=He.fromString(i);return Oe(yg(e)),e}function mh(i,e){return Mh(i.databaseId,e.path)}function Xc(i,e){const n=fg(e);if(n.get(1)!==i.databaseId.projectId)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new le(pg(n))}function dg(i,e){return Mh(i.databaseId,e)}function Y0(i){const e=fg(i);return e.length===4?He.emptyPath():pg(e)}function gh(i){return new He(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pg(i){return Oe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function em(i,e,n){return{name:mh(i,e),fields:n.value.mapValue.fields}}function J0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,w){return E.useProto3Json?(Oe(w===void 0||typeof w=="string"),Rt.fromBase64String(w||"")):(Oe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Rt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const w=E.code===void 0?$.UNKNOWN:lg(E.code);return new re(w,E.message||"")}(f);n=new cg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Xc(i,s.document.name),c=Hn(s.document.updateTime),f=s.document.createTime?Hn(s.document.createTime):me.min(),m=new Kt({mapValue:{fields:s.document.fields}}),y=Mt.newFoundDocument(a,c,f,m),E=s.targetIds||[],w=s.removedTargetIds||[];n=new zl(E,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Xc(i,s.document),c=s.readTime?Hn(s.readTime):me.min(),f=Mt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new zl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Xc(i,s.document),c=s.removedTargetIds||[];n=new zl([],c,a,null)}else{if(!("filter"in e))return pe();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new j0(a,c),m=s.targetId;n=new ug(m,f)}}return n}function Z0(i,e){let n;if(e instanceof la)n={update:em(i,e.key,e.value)};else if(e instanceof Nh)n={delete:mh(i,e.key)};else if(e instanceof Yr)n={update:em(i,e.key,e.data),updateMask:lE(e.fieldMask)};else{if(!(e instanceof U0))return pe();n={verify:mh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof sa)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof oa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof aa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw pe()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:X0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pe()}(i,e.precondition)),n}function eE(i,e){return i&&i.length>0?(Oe(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Hn(a.updateTime):Hn(c);return f.isEqual(me.min())&&(f=Hn(c)),new M0(f,a.transformResults||[])}(n,e))):[]}function tE(i,e){return{documents:[dg(i,e.path)]}}function nE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dg(i,a);const c=function(E){if(E.length!==0)return gg(Nn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(w=>function(V){return{field:ks(V.field),direction:sE(V.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=dh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:n,parent:a}}function rE(i){let e=Y0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Oe(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(C){const V=mg(C);return V instanceof Nn&&Hm(V)?V.getFilters():[V]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(V=>function(W){return new ia(Vs(W.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(V))}(n.orderBy));let m=null;n.limit&&(m=function(C){let V;return V=typeof C=="object"?C.value:C,eu(V)?null:V}(n.limit));let y=null;n.startAt&&(y=function(C){const V=!!C.before,B=C.values||[];return new Ql(B,V)}(n.startAt));let E=null;return n.endAt&&(E=function(C){const V=!C.before,B=C.values||[];return new Ql(B,V)}(n.endAt)),w0(e,a,f,c,m,"F",y,E)}function iE(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Vs(n.unaryFilter.field);return ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Vs(n.unaryFilter.field);return ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(n.unaryFilter.field);return ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(n.unaryFilter.field);return ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(i):i.fieldFilter!==void 0?function(n){return ot.create(Vs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Nn.create(n.compositeFilter.filters.map(s=>mg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(i):pe()}function sE(i){return Q0[i]}function oE(i){return W0[i]}function aE(i){return G0[i]}function ks(i){return{fieldPath:i.canonicalString()}}function Vs(i){return At.fromServerFormat(i.fieldPath)}function gg(i){return i instanceof ot?function(n){if(n.op==="=="){if(jp(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NAN"}};if(Bp(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jp(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NAN"}};if(Bp(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(n.field),op:oE(n.op),value:n.value}}}(i):i instanceof Nn?function(n){const s=n.getFilters().map(a=>gg(a));return s.length===1?s[0]:{compositeFilter:{op:aE(n.op),filters:s}}}(i):pe()}function lE(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,a,c=me.min(),f=me.min(),m=Rt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.ht=e}}function cE(i){const e=rE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.ln=new fE}addToCollectionParentIndex(e,n){return this.ln.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Hr.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class fE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new dt(He.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new dt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Us(0)}static Qn(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class dE{constructor(e){this.Gn=e,this.buffer=new dt(nm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hs(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await qs(n)}await this.Yn(3e5)})}}class mE{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Zl.oe);const s=new dE(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(tm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,E;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,f=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(E=Date.now(),Cs()<=Ve.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${C} documents in `+(E-y)+`ms
Total Duration: ${E-w}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C})))}}function gE(i,e){return new mE(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Yo(s.mutation,a,sn.empty(),ft.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ie()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ie()){const a=Pi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Ho();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ie()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=pr();const f=Xo(),m=function(){return Xo()}();return n.forEach((y,E)=>{const w=s.get(E.key);a.has(E.key)&&(w===void 0||w.mutation instanceof Yr)?c=c.insert(E.key,E):w!==void 0?(f.set(E.key,w.mutation.getFieldMask()),Yo(w.mutation,E,w.mutation.getFieldMask(),ft.now())):f.set(E.key,sn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((E,w)=>f.set(E,w)),n.forEach((E,w)=>{var C;return m.set(E,new _E(w,(C=f.get(E))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Xo();let a=new Xe((f,m)=>f-m),c=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const E=n.get(y);if(E===null)return;let w=s.get(y)||sn.empty();w=m.applyToLocalView(E,w),s.set(y,w);const C=(a.get(m.batchId)||Ie()).add(y);a=a.insert(m.batchId,C)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),E=y.key,w=y.value,C=eg();w.forEach(V=>{if(!c.has(V)){const B=og(n.get(V),s.get(V));B!==null&&C.set(V,B),c=c.add(V)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,C))}return j.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return le.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Km(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):j.resolve(Pi());let m=-1,y=c;return f.next(E=>j.forEach(E,(w,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(w)?j.resolve():this.remoteDocumentCache.getEntry(e,w).next(V=>{y=y.insert(w,V)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,y,E,Ie())).next(w=>({batchId:m,changes:Zm(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(s=>{let a=Ho();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Ho();return this.indexManager.getCollectionParents(e,c).next(m=>j.forEach(m,y=>{const E=function(C,V){return new Qs(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(w=>{w.forEach((C,V)=>{f=f.insert(C,V)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,E)=>{const w=E.getKey();f.get(w)===null&&(f=f.insert(w,Mt.newInvalidDocument(w)))});let m=Ho();return f.forEach((y,E)=>{const w=c.get(y);w!==void 0&&Yo(w.mutation,E,sn.empty(),ft.now()),ru(n,E)&&(m=m.insert(y,E))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return j.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:cE(a.bundledQuery),readTime:Hn(a.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.overlays=new Xe(le.comparator),this.Er=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pi();return j.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const a=Pi(),c=n.length+1,f=new le(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return j.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Xe((E,w)=>E-w);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let w=c.get(E.largestBatchId);w===null&&(w=Pi(),c=c.insert(E.largestBatchId,w)),w.set(E.getKey(),E)}}const m=Pi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,w)=>m.set(E,w)),!(m.size()>=a)););return j.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new B0(n,s));let c=this.Er.get(n);c===void 0&&(c=Ie(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this.dr=new dt(vt.Ar),this.Rr=new dt(vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new vt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new vt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new le(new He([])),s=new vt(n,e),a=new vt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new le(new He([])),s=new vt(n,e),a=new vt(n,e+1);let c=Ie();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new vt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return le.comparator(e.key,n.key)||Re(e.br,n.br)}static Vr(e,n){return Re(e.br,n.br)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new dt(vt.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new z0(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new vt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return j.resolve(f)}lookupMutationBatch(e,n){return j.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vt(n,0),a=new vt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dt(Re);return n.forEach(a=>{const c=new vt(a,0),f=new vt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),j.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;le.isDocumentKey(c)||(c=c.child(""));const f=new vt(new le(c),0);let m=new dt(Re);return this.vr.forEachWhile(y=>{const E=y.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(m=m.add(y.br)),!0)},f),j.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Oe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return j.forEach(n.mutations,a=>{const c=new vt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new vt(n,0),a=this.vr.firstAfterOrEqual(s);return j.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.Nr=e,this.docs=function(){return new Xe(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mt.newInvalidDocument(a))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=pr();const f=n.path,m=new le(f.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:E,value:{document:w}}=y.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||e0(Zv(w),s)<=0||(a.has(w.key)||ru(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(e,n,s,a){pe()}Lr(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new AE(this)}getSize(e){return j.resolve(this.size)}}class AE extends yE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.persistence=e,this.Br=new Ni(n=>Ph(n),kh),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.kr=0,this.qr=new Oh,this.targetCount=0,this.Qr=Us.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),j.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Us(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Un(n),j.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),j.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Zl(0),this.Ur=!1,this.Ur=!0,this.Wr=new TE,this.referenceDelegate=e(this),this.Gr=new RE(this),this.indexManager=new hE,this.remoteDocumentCache=function(a){return new SE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new uE(n),this.jr=new EE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new IE(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new CE(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return j.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class CE extends n0{constructor(e){super(),this.currentSequenceNumber=e}}class Fh{constructor(e){this.persistence=e,this.Zr=new Oh,this.Xr=null}static ei(e){return new Fh(e)}get ti(){if(this.Xr)return this.Xr;throw pe()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),j.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,s=>{const a=le.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,me.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return j.or([()=>j.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Kl{constructor(e,n){this.persistence=e,this.ri=new Ni(s=>s0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=gE(this,n)}static ei(e,n){return new Kl(e,n)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return j.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?j.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,me.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),j.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ol(e.data.value)),n}ir(e,n,s){return j.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return j.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ie(),a=Ie();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Uh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return A_()?8:r0(I_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new PE;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Cs()<=Ve.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(Cs()<=Ve.DEBUG&&te("QueryEngine","Query:",Ps(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Cs()<=Ve.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):j.resolve())}Xi(e,n){if(Hp(n))return j.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=fh(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ie(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const E=this.rs(n,m);return this.ss(n,E,f,y.readTime)?this.Xi(e,fh(n,null,"F")):this.os(e,E,n,y)}))})))}es(e,n,s,a){return Hp(n)||a.isEqual(me.min())?j.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?j.resolve(null):(Cs()<=Ve.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ps(n)),this.os(e,f,n,Jv(a,-1)).next(m=>m))})}rs(e,n){let s=new dt(Ym(e));return n.forEach((a,c)=>{ru(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Cs()<=Ve.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.Zi.getDocumentsMatchingQuery(e,n,Hr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Xe(Re),this.cs=new Ni(c=>Ph(c),kh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function DE(i,e,n,s){return new VE(i,e,n,s)}async function vg(i,e){const n=ge(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ie();for(const E of a){f.push(E.batchId);for(const w of E.mutations)y=y.add(w.key)}for(const E of c){m.push(E.batchId);for(const w of E.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(E=>({Ts:E,removedBatchIds:f,addedBatchIds:m}))})})}function NE(i,e){const n=ge(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,E,w){const C=E.batch,V=C.keys();let B=j.resolve();return V.forEach(W=>{B=B.next(()=>w.getEntry(y,W)).next(K=>{const q=E.docVersions.get(W);Oe(q!==null),K.version.compareTo(q)<0&&(C.applyToRemoteDocument(K,E),K.isValidDocument()&&(K.setReadTime(E.commitVersion),w.addEntry(K)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(y,C))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Ie();for(let E=0;E<m.mutationResults.length;++E)m.mutationResults[E].transformResults.length>0&&(y=y.add(m.batch.mutations[E].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Eg(i){const e=ge(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function xE(i,e){const n=ge(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,C)=>{const V=a.get(C);if(!V)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,C).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,C)));let B=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?B=B.withResumeToken(Rt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,s)),a=a.insert(C,B),function(K,q,ye){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0}(V,B,w)&&m.push(n.Gr.updateTargetData(c,B))});let y=pr(),E=Ie();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(LE(c,f,e.documentUpdates).next(w=>{y=w.Is,E=w.Es})),!s.isEqual(me.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(C=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return j.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,E)).next(()=>y)}).then(c=>(n.us=a,c))}function LE(i,e,n){let s=Ie(),a=Ie();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=pr();return n.forEach((m,y)=>{const E=c.get(m);y.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(me.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",y.version)}),{Is:f,Es:a}})}function ME(i,e){const n=ge(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function OE(i,e){const n=ge(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,j.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function yh(i,e,n){const s=ge(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Hs(f))throw f;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function rm(i,e,n){const s=ge(i);let a=me.min(),c=Ie();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,E,w){const C=ge(y),V=C.cs.get(w);return V!==void 0?j.resolve(C.us.get(V)):C.Gr.getTargetData(E,w)}(s,f,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:me.min(),n?c:Ie())).next(m=>(FE(s,I0(e),m),{documents:m,ds:c})))}function FE(i,e,n){let s=i.ls.get(e)||me.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class im{constructor(){this.activeTargetIds=k0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UE{constructor(){this._o=new im,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new im,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=null;function Yc(){return xl===null?xl=function(){return 268435456+Math.round(2147483648*Math.random())}():xl++,"0x"+xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class bE extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Yc(),y=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,f),this.Bo(n,y,E,a).then(w=>(te("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Ls("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$s}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=BE[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=Yc();return new Promise((f,m)=>{const y=new xm;y.setWithCredentials(!0),y.listenOnce(Lm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ml.NO_ERROR:const w=y.getResponseJson();te(xt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Ml.TIMEOUT:te(xt,`RPC '${e}' ${c} timed out`),m(new re($.DEADLINE_EXCEEDED,"Request time out"));break;case Ml.HTTP_ERROR:const C=y.getStatus();if(te(xt,`RPC '${e}' ${c} failed with status:`,C,"response text:",y.getResponseText()),C>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const B=V==null?void 0:V.error;if(B&&B.status&&B.message){const W=function(q){const ye=q.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ye)>=0?ye:$.UNKNOWN}(B.status);m(new re(W,B.message))}else m(new re($.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new re($.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{te(xt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(a);te(xt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",E,s,15)})}qo(e,n,s){const a=Yc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Fm(),m=Om(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");te(xt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const C=f.createWebChannel(w,y);let V=!1,B=!1;const W=new jE({Eo:q=>{B?te(xt,`Not sending because RPC '${e}' stream ${a} is closed:`,q):(V||(te(xt,`Opening RPC '${e}' stream ${a} transport.`),C.open(),V=!0),te(xt,`RPC '${e}' stream ${a} sending:`,q),C.send(q))},Ao:()=>C.close()}),K=(q,ye,_e)=>{q.listen(ye,ve=>{try{_e(ve)}catch(Se){setTimeout(()=>{throw Se},0)}})};return K(C,qo.EventType.OPEN,()=>{B||(te(xt,`RPC '${e}' stream ${a} transport opened.`),W.So())}),K(C,qo.EventType.CLOSE,()=>{B||(B=!0,te(xt,`RPC '${e}' stream ${a} transport closed`),W.Do())}),K(C,qo.EventType.ERROR,q=>{B||(B=!0,Ls(xt,`RPC '${e}' stream ${a} transport errored:`,q),W.Do(new re($.UNAVAILABLE,"The operation could not be completed")))}),K(C,qo.EventType.MESSAGE,q=>{var ye;if(!B){const _e=q.data[0];Oe(!!_e);const ve=_e,Se=(ve==null?void 0:ve.error)||((ye=ve[0])===null||ye===void 0?void 0:ye.error);if(Se){te(xt,`RPC '${e}' stream ${a} received error:`,Se);const Je=Se.status;let De=function(A){const k=st[A];if(k!==void 0)return lg(k)}(Je),D=Se.message;De===void 0&&(De=$.INTERNAL,D="Unknown error status: "+Je+" with message "+Se.message),B=!0,W.Do(new re(De,D)),C.close()}else te(xt,`RPC '${e}' stream ${a} received:`,_e),W.vo(_e)}}),K(m,Mm.STAT_EVENT,q=>{q.stat===oh.PROXY?te(xt,`RPC '${e}' stream ${a} detected buffering proxy`):q.stat===oh.NOPROXY&&te(xt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{W.bo()},0),W}}function Jc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){return new K0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new wg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new re($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $E extends Tg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=J0(this.serializer,e),s=function(c){if(!("targetChange"in c))return me.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?me.min():f.readTime?Hn(f.readTime):me.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=gh(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=ch(y)?{documents:tE(c,y)}:{query:nE(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=hg(c,f.resumeToken);const E=dh(c,f.expectedCount);E!==null&&(m.expectedCount=E)}else if(f.snapshotVersion.compareTo(me.min())>0){m.readTime=Gl(c,f.snapshotVersion.toTimestamp());const E=dh(c,f.expectedCount);E!==null&&(m.expectedCount=E)}return m}(this.serializer,e);const s=iE(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=gh(this.serializer),n.removeTarget=e,this.c_(n)}}class qE extends Tg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=eE(e.writeResults,e.commitTime),s=Hn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=gh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Z0(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,ph(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re($.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,ph(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new re($.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class QE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(dr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{xi(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(y){const E=ge(y);E.k_.add(4),await ca(E),E.K_.set("Unknown"),E.k_.delete(4),await lu(E)}(this))})}),this.K_=new QE(s,a)}}async function lu(i){if(xi(i))for(const e of i.q_)await e(!0)}async function ca(i){for(const e of i.q_)await e(!1)}function Ig(i,e){const n=ge(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),bh(n)?jh(n):Ws(n).s_()&&Bh(n,e))}function zh(i,e){const n=ge(i),s=Ws(n);n.B_.delete(e),s.s_()&&Sg(n,e),n.B_.size===0&&(s.s_()?s.a_():xi(n)&&n.K_.set("Unknown"))}function Bh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ws(i).V_(e)}function Sg(i,e){i.U_.xe(e),Ws(i).m_(e)}function jh(i){i.U_=new H0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ws(i).start(),i.K_.F_()}function bh(i){return xi(i)&&!Ws(i).i_()&&i.B_.size>0}function xi(i){return ge(i).k_.size===0}function Ag(i){i.U_=void 0}async function GE(i){i.K_.set("Online")}async function KE(i){i.B_.forEach((e,n)=>{Bh(i,e)})}async function XE(i,e){Ag(i),bh(i)?(i.K_.O_(e),jh(i)):i.K_.set("Unknown")}async function YE(i,e,n){if(i.K_.set("Online"),e instanceof cg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xl(i,s)}else if(e instanceof zl?i.U_.$e(e):e instanceof ug?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(me.min()))try{const s=await Eg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.B_.get(E);w&&c.B_.set(E,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,E)=>{const w=c.B_.get(y);if(!w)return;c.B_.set(y,w.withResumeToken(Rt.EMPTY_BYTE_STRING,w.snapshotVersion)),Sg(c,y);const C=new Br(w.target,y,E,w.sequenceNumber);Bh(c,C)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await Xl(i,s)}}async function Xl(i,e,n){if(!Hs(e))throw e;i.k_.add(1),await ca(i),i.K_.set("Offline"),n||(n=()=>Eg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await lu(i)})}function Rg(i,e){return e().catch(n=>Xl(i,n,e))}async function uu(i){const e=ge(i),n=Kr(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;JE(e);)try{const a=await ME(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,ZE(e,a)}catch(a){await Xl(e,a)}Cg(e)&&Pg(e)}function JE(i){return xi(i)&&i.L_.length<10}function ZE(i,e){i.L_.push(e);const n=Kr(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Cg(i){return xi(i)&&!Kr(i).i_()&&i.L_.length>0}function Pg(i){Kr(i).start()}async function e1(i){Kr(i).w_()}async function t1(i){const e=Kr(i);for(const n of i.L_)e.g_(n.mutations)}async function n1(i,e,n){const s=i.L_.shift(),a=xh.from(s,e,n);await Rg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await uu(i)}async function r1(i,e){e&&Kr(i).f_&&await async function(s,a){if(function(f){return b0(f)&&f!==$.ABORTED}(a.code)){const c=s.L_.shift();Kr(s).__(),await Rg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await uu(s)}}(i,e),Cg(i)&&Pg(i)}async function om(i,e){const n=ge(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=xi(n);n.k_.add(3),await ca(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await lu(n)}async function i1(i,e){const n=ge(i);e?(n.k_.delete(2),await lu(n)):e||(n.k_.add(2),await ca(n),n.K_.set("Unknown"))}function Ws(i){return i.W_||(i.W_=function(n,s,a){const c=ge(n);return c.b_(),new $E(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:GE.bind(null,i),mo:KE.bind(null,i),po:XE.bind(null,i),R_:YE.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),bh(i)?jh(i):i.K_.set("Unknown")):(await i.W_.stop(),Ag(i))})),i.W_}function Kr(i){return i.G_||(i.G_=function(n,s,a){const c=ge(n);return c.b_(),new qE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:e1.bind(null,i),po:r1.bind(null,i),p_:t1.bind(null,i),y_:n1.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await uu(i)):(await i.G_.stop(),i.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new $h(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qh(i,e){if(dr("AsyncQueue",`${e}: ${i}`),Hs(i))return new re($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{static emptySet(e){return new xs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=Ho(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.z_=new Xe(le.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):pe():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class zs{constructor(e,n,s,a,c,f,m,y,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new zs(e,n,xs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class o1{constructor(){this.queries=lm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=ge(n),c=a.queries;a.queries=lm(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new re($.ABORTED,"Firestore shutting down"))}}function lm(){return new Ni(i=>Xm(i),nu)}async function a1(i,e){const n=ge(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new s1,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=qh(f,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Hh(n)}async function l1(i,e){const n=ge(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function u1(i,e){const n=ge(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Hh(n)}function c1(i,e,n){const s=ge(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Hh(i){i.X_.forEach(e=>{e.next()})}var _h,um;(um=_h||(_h={})).na="default",um.Cache="cache";class h1{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new zs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==_h.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.key=e}}class Vg{constructor(e){this.key=e}}class f1{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ie(),this.mutatedKeys=Ie(),this.Va=Ym(e),this.ma=new xs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new am,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,C)=>{const V=a.get(w),B=ru(this.query,C)?C:null,W=!!V&&this.mutatedKeys.has(V.key),K=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let q=!1;V&&B?V.data.isEqual(B.data)?W!==K&&(s.track({type:3,doc:B}),q=!0):this.ya(V,B)||(s.track({type:2,doc:B}),q=!0,(y&&this.Va(B,y)>0||E&&this.Va(B,E)<0)&&(m=!0)):!V&&B?(s.track({type:0,doc:B}),q=!0):V&&!B&&(s.track({type:1,doc:V}),q=!0,(y||E)&&(m=!0)),q&&(B?(f=f.add(B),c=K?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,C)=>function(B,W){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return K(B)-K(W)}(w.type,C.type)||this.Va(w.doc,C.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,E=y!==this.Aa;return this.Aa=y,f.length!==0||E?{snapshot:new zs(this.query,e.ma,c,f,e.mutatedKeys,y===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new am,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ie(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Vg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new kg(s))}),n}va(e){this.da=e.ds,this.Ra=Ie();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return zs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class d1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class p1{constructor(e){this.key=e,this.Fa=!1}}class m1{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Ni(m=>Xm(m),nu),this.Oa=new Map,this.Na=new Set,this.La=new Xe(le.comparator),this.Ba=new Map,this.ka=new Oh,this.qa={},this.Qa=new Map,this.Ka=Us.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function g1(i,e,n=!0){const s=Og(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Dg(s,e,n,!0),a}async function y1(i,e){const n=Og(i);await Dg(n,e,!0,!1)}async function Dg(i,e,n,s){const a=await OE(i.localStore,qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await _1(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Ig(i.remoteStore,a),m}async function _1(i,e,n,s,a){i.Ua=(C,V,B)=>async function(K,q,ye,_e){let ve=q.view.ga(ye);ve.ss&&(ve=await rm(K.localStore,q.query,!1).then(({documents:D})=>q.view.ga(D,ve)));const Se=_e&&_e.targetChanges.get(q.targetId),Je=_e&&_e.targetMismatches.get(q.targetId)!=null,De=q.view.applyChanges(ve,K.isPrimaryClient,Se,Je);return hm(K,q.targetId,De.ba),De.snapshot}(i,C,V,B);const c=await rm(i.localStore,e,!0),f=new f1(e,c.ds),m=f.ga(c.documents),y=ua.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(m,i.isPrimaryClient,y);hm(i,n,E.ba);const w=new d1(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),E.snapshot}async function v1(i,e,n){const s=ge(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!nu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await yh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&zh(s.remoteStore,a.targetId),vh(s,a.targetId)}).catch(qs)):(vh(s,a.targetId),await yh(s.localStore,a.targetId,!0))}async function E1(i,e){const n=ge(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zh(n.remoteStore,s.targetId))}async function w1(i,e,n){const s=P1(i);try{const a=await function(f,m){const y=ge(f),E=ft.now(),w=m.reduce((B,W)=>B.add(W.key),Ie());let C,V;return y.persistence.runTransaction("Locally write mutations","readwrite",B=>{let W=pr(),K=Ie();return y.hs.getEntries(B,w).next(q=>{W=q,W.forEach((ye,_e)=>{_e.isValidDocument()||(K=K.add(ye))})}).next(()=>y.localDocuments.getOverlayedDocuments(B,W)).next(q=>{C=q;const ye=[];for(const _e of m){const ve=F0(_e,C.get(_e.key).overlayedDocument);ve!=null&&ye.push(new Yr(_e.key,ve,bm(ve.value.mapValue),Dn.exists(!0)))}return y.mutationQueue.addMutationBatch(B,E,ye,m)}).next(q=>{V=q;const ye=q.applyToLocalDocumentSet(C,K);return y.documentOverlayCache.saveOverlays(B,q.batchId,ye)})}).then(()=>({batchId:V.batchId,changes:Zm(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let E=f.qa[f.currentUser.toKey()];E||(E=new Xe(Re)),E=E.insert(m,y),f.qa[f.currentUser.toKey()]=E}(s,a.batchId,n),await ha(s,a.changes),await uu(s.remoteStore)}catch(a){const c=qh(a,"Failed to persist write");n.reject(c)}}async function Ng(i,e){const n=ge(i);try{const s=await xE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Oe(f.Fa):a.removedDocuments.size>0&&(Oe(f.Fa),f.Fa=!1))}),await ha(n,s,e)}catch(s){await qs(s)}}function cm(i,e,n){const s=ge(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=ge(f);y.onlineState=m;let E=!1;y.queries.forEach((w,C)=>{for(const V of C.J_)V.ea(m)&&(E=!0)}),E&&Hh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function T1(i,e,n){const s=ge(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new Xe(le.comparator);f=f.insert(c,Mt.newNoDocument(c,me.min()));const m=Ie().add(c),y=new ou(me.min(),new Map,new Xe(Re),f,m);await Ng(s,y),s.La=s.La.remove(c),s.Ba.delete(e),Qh(s)}else await yh(s.localStore,e,!1).then(()=>vh(s,e,n)).catch(qs)}async function I1(i,e){const n=ge(i),s=e.batch.batchId;try{const a=await NE(n.localStore,e);Lg(n,s,null),xg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ha(n,a)}catch(a){await qs(a)}}async function S1(i,e,n){const s=ge(i);try{const a=await function(f,m){const y=ge(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let w;return y.mutationQueue.lookupMutationBatch(E,m).next(C=>(Oe(C!==null),w=C.keys(),y.mutationQueue.removeMutationBatch(E,C))).next(()=>y.mutationQueue.performConsistencyCheck(E)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(E,w,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,w)).next(()=>y.localDocuments.getDocuments(E,w))})}(s.localStore,e);Lg(s,e,n),xg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ha(s,a)}catch(a){await qs(a)}}function xg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Lg(i,e,n){const s=ge(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function vh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Mg(i,s)})}function Mg(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(zh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Qh(i))}function hm(i,e,n){for(const s of n)s instanceof kg?(i.ka.addReference(s.key,e),A1(i,s)):s instanceof Vg?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Mg(i,s.key)):pe()}function A1(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),Qh(i))}function Qh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new le(He.fromString(e)),s=i.Ka.next();i.Ba.set(s,new p1(n)),i.La=i.La.insert(n,s),Ig(i.remoteStore,new Br(qn(Vh(n.path)),s,"TargetPurposeLimboResolution",Zl.oe))}}async function ha(i,e,n){const s=ge(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(E=>{var w;if((E||n)&&s.isPrimaryClient){const C=E?!E.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(E){a.push(E);const C=Uh.zi(y.targetId,E);c.push(C)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,E){const w=ge(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>j.forEach(E,V=>j.forEach(V.Wi,B=>w.persistence.referenceDelegate.addReference(C,V.targetId,B)).next(()=>j.forEach(V.Gi,B=>w.persistence.referenceDelegate.removeReference(C,V.targetId,B)))))}catch(C){if(!Hs(C))throw C;te("LocalStore","Failed to update sequence numbers: "+C)}for(const C of E){const V=C.targetId;if(!C.fromCache){const B=w.us.get(V),W=B.snapshotVersion,K=B.withLastLimboFreeSnapshotVersion(W);w.us=w.us.insert(V,K)}}}(s.localStore,c))}async function R1(i,e){const n=ge(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await vg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new re($.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ha(n,s.Ts)}}function C1(i,e){const n=ge(i),s=n.Ba.get(e);if(s&&s.Fa)return Ie().add(s.key);{let a=Ie();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Og(i){const e=ge(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ng.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T1.bind(null,e),e.Ma.R_=u1.bind(null,e.eventManager),e.Ma.Wa=c1.bind(null,e.eventManager),e}function P1(i){const e=ge(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S1.bind(null,e),e}class Yl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=au(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return DE(this.persistence,new kE,e.initialUser,this.serializer)}ja(e){return new _g(Fh.ei,this.serializer)}za(e){return new UE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yl.provider={build:()=>new Yl};class k1 extends Yl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Oe(this.persistence.referenceDelegate instanceof Kl);const s=this.persistence.referenceDelegate.garbageCollector;return new pE(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new _g(s=>Kl.ei(s,n),this.serializer)}}class Eh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=R1.bind(null,this.syncEngine),await i1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o1}()}createDatastore(e){const n=au(e.databaseInfo.databaseId),s=function(c){return new bE(c)}(e.databaseInfo);return function(c,f,m,y){return new HE(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new WE(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>cm(this.syncEngine,n,0),function(){return sm.p()?new sm:new zE}())}createSyncEngine(e,n){return function(a,c,f,m,y,E,w){const C=new m1(a,c,f,m,y,E);return w&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=ge(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ca(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Eh.provider={build:()=>new Eh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zc(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await vg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function fm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await N1(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>om(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>om(e.remoteStore,a)),i._onlineComponents=e}async function N1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===$.FAILED_PRECONDITION||a.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await Zc(i,new Yl)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Zc(i,new k1(void 0));return i._offlineComponents}async function Fg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await fm(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await fm(i,new Eh))),i._onlineComponents}function x1(i){return Fg(i).then(e=>e.syncEngine)}async function dm(i){const e=await Fg(i),n=e.eventManager;return n.onListen=g1.bind(null,e.syncEngine),n.onUnlisten=v1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E1.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(i,e,n){if(!n)throw new re($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function L1(i,e,n,s){if(e===!0&&s===!0)throw new re($.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mm(i){if(!le.isDocumentKey(i))throw new re($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gm(i){if(le.isDocumentKey(i))throw new re($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function cu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":pe()}function $r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new re($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cu(i);throw new re($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new re($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ug((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ym({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ym(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $v;switch(s.type){case"firstParty":return new Wv(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pm.get(n);s&&(te("ComponentProvider","Removing Datastore"),pm.delete(n),s.terminate())}(this),Promise.resolve()}}function M1(i,e,n,s={}){var a;const c=(i=$r(i,hu))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=T_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new re($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(E)}i._authCredentials=new qv(new Um(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class Xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class qr extends Li{constructor(e,n,s){super(e,n,Vh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new le(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Bg(i,e,...n){if(i=Qn(i),zg("collection","path",e),i instanceof hu){const s=He.fromString(e,...n);return gm(s),new qr(i,null,s)}{if(!(i instanceof Xt||i instanceof qr))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return gm(s),new qr(i.firestore,null,s)}}function Ds(i,e,...n){if(i=Qn(i),arguments.length===1&&(e=zm.newId()),zg("doc","path",e),i instanceof hu){const s=He.fromString(e,...n);return mm(s),new Xt(i,null,new le(s))}{if(!(i instanceof Xt||i instanceof qr))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return mm(s),new Xt(i.firestore,i instanceof qr?i.converter:null,new le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new wg(this,"async_queue_retry"),this.fu=()=>{const s=Jc();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Jc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Jc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Vi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Hs(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw dr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=$h.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&pe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function vm(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class Bs extends hu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new _m,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _m(e),this._firestoreClient=void 0,await e}}}function O1(i,e){const n=typeof i=="object"?i:Dv(),s=typeof i=="string"?i:"(default)",a=Cv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=E_("firestore");c&&M1(a,...c)}return a}function jg(i){if(i._terminated)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||F1(i),i._firestoreClient}function F1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,E,w){return new l0(m,y,E,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ug(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new D1(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(Rt.fromBase64String(e))}catch(n){throw new re($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new js(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=/^__.*__$/;class z1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new la(e,this.data,n,this.fieldTransforms)}}class bg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $g(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Kh{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Jl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if($g(this.Mu)&&U1.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class B1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||au(e)}$u(e,n,s,a=!1){return new Kh({Mu:e,methodName:n,Ku:s,path:At.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(i){const e=i._freezeSettings(),n=au(i._databaseId);return new B1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function j1(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Jh("Data must be an object, but it was:",f,s);const m=qg(s,f);let y,E;if(c.merge)y=new sn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const C of c.mergeFields){const V=wh(e,C,n);if(!f.contains(V))throw new re($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Qg(w,V)||w.push(V)}y=new sn(w),E=f.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,E=f.fieldTransforms;return new z1(new Kt(m),y,E)}class pu extends du{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pu}}class Yh extends du{_toFieldTransform(e){return new x0(e.path,new sa)}isEqual(e){return e instanceof Yh}}function b1(i,e,n,s){const a=i.$u(1,e,n);Jh("Data must be an object, but it was:",a,s);const c=[],f=Kt.empty();Xr(s,(y,E)=>{const w=Zh(e,y,n);E=Qn(E);const C=a.Bu(w);if(E instanceof pu)c.push(w);else{const V=fa(E,C);V!=null&&(c.push(w),f.set(w,V))}});const m=new sn(c);return new bg(f,m,a.fieldTransforms)}function $1(i,e,n,s,a,c){const f=i.$u(1,e,n),m=[wh(e,s,n)],y=[a];if(c.length%2!=0)throw new re($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)m.push(wh(e,c[V])),y.push(c[V+1]);const E=[],w=Kt.empty();for(let V=m.length-1;V>=0;--V)if(!Qg(E,m[V])){const B=m[V];let W=y[V];W=Qn(W);const K=f.Bu(B);if(W instanceof pu)E.push(B);else{const q=fa(W,K);q!=null&&(E.push(B),w.set(B,q))}}const C=new sn(E);return new bg(w,C,f.fieldTransforms)}function q1(i,e,n,s=!1){return fa(n,i.$u(s?4:3,e))}function fa(i,e){if(Hg(i=Qn(i)))return Jh("Unsupported field value:",e,i),qg(i,e);if(i instanceof du)return function(s,a){if(!$g(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=fa(m,a.ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Qn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return V0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ft.fromDate(s);return{timestampValue:Gl(a.serializer,c)}}if(s instanceof ft){const c=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gl(a.serializer,c)}}if(s instanceof Wh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:hg(a.serializer,s._byteString)};if(s instanceof Xt){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Gh)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Dh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${cu(s)}`)}(i,e)}function qg(i,e){const n={};return Bm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(i,(s,a)=>{const c=fa(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Hg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof Wh||i instanceof js||i instanceof Xt||i instanceof du||i instanceof Gh)}function Jh(i,e,n){if(!Hg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=cu(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function wh(i,e,n){if((e=Qn(e))instanceof fu)return e._internalPath;if(typeof e=="string")return Zh(i,e);throw Jl("Field path arguments must be of type string or ",i,!1,void 0,n)}const H1=new RegExp("[~\\*/\\[\\]]");function Zh(i,e,n){if(e.search(H1)>=0)throw Jl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new fu(...e.split("."))._internalPath}catch{throw Jl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new re($.INVALID_ARGUMENT,m+i+y)}function Qg(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ef("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q1 extends Wg{data(){return super.data()}}function ef(i,e){return typeof e=="string"?Zh(i,e):e instanceof fu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new re($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tf{}class Gg extends tf{}function G1(i,e,...n){let s=[];e instanceof tf&&s.push(e),s=s.concat(n),function(c){const f=c.filter(y=>y instanceof rf).length,m=c.filter(y=>y instanceof nf).length;if(f>1||f>0&&m>0)throw new re($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class nf extends Gg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nf(e,n,s)}_apply(e){const n=this._parse(e);return Kg(e._query,n),new Li(e.firestore,e.converter,hh(e._query,n))}_parse(e){const n=Xh(e.firestore);return function(c,f,m,y,E,w,C){let V;if(E.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new re($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){wm(C,w);const B=[];for(const W of C)B.push(Em(y,c,W));V={arrayValue:{values:B}}}else V=Em(y,c,C)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||wm(C,w),V=q1(m,f,C,w==="in"||w==="not-in");return ot.create(E,w,V)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class rf extends tf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const m=c.getFlattenedFilters();for(const y of m)Kg(f,y),f=hh(f,y)}(e._query,n),new Li(e.firestore,e.converter,hh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sf extends Gg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sf(e,n)}_apply(e){const n=function(a,c,f){if(a.startAt!==null)throw new re($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new re($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ia(c,f)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(a,c){const f=a.explicitOrderBy.concat([c]);return new Qs(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function K1(i,e="asc"){const n=e,s=ef("orderBy",i);return sf._create(s,n)}function Em(i,e,n){if(typeof(n=Qn(n))=="string"){if(n==="")throw new re($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Km(e)&&n.indexOf("/")!==-1)throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(He.fromString(n));if(!le.isDocumentKey(s))throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zp(i,new le(s))}if(n instanceof Xt)return zp(i,n._key);throw new re($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cu(n)}.`)}function wm(i,e){if(!Array.isArray(i)||i.length===0)throw new re($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kg(i,e){const n=function(a,c){for(const f of a)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class X1{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xr(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>nt(f.doubleValue));return new Gh(c)}convertGeoPoint(e){return new Wh(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=He.fromString(e);Oe(yg(s));const a=new na(s.get(1),s.get(3)),c=new le(s.popFirst(5));return a.isEqual(n)||dr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xg extends Wg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ef("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bl extends Xg{data(e={}){return super.data(e)}}class J1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Wo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bl(this._firestore,this._userDataWriter,s.key,s,new Wo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Wo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Wo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,w=-1;return m.type!==0&&(E=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:Z1(m.type),doc:y,oldIndex:E,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class Yg extends X1{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function Ll(i,e,n,...s){i=$r(i,Xt);const a=$r(i.firestore,Bs),c=Xh(a);let f;return f=typeof(e=Qn(e))=="string"||e instanceof fu?$1(c,"updateDoc",i._key,e,n,s):b1(c,"updateDoc",i._key,e),of(a,[f.toMutation(i._key,Dn.exists(!0))])}function ew(i){return of($r(i.firestore,Bs),[new Nh(i._key,Dn.none())])}function tw(i,e){const n=$r(i.firestore,Bs),s=Ds(i),a=Y1(i.converter,e);return of(n,[j1(Xh(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then(()=>s)}function nw(i,...e){var n,s,a;i=Qn(i);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||vm(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(vm(e[f])){const C=e[f];e[f]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[f+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),e[f+2]=(a=C.complete)===null||a===void 0?void 0:a.bind(C)}let y,E,w;if(i instanceof Xt)E=$r(i.firestore,Bs),w=Vh(i._key.path),y={next:C=>{e[f]&&e[f](rw(E,i,C))},error:e[f+1],complete:e[f+2]};else{const C=$r(i,Li);E=$r(C.firestore,Bs),w=C._query;const V=new Yg(E);y={next:B=>{e[f]&&e[f](new J1(E,V,C,B))},error:e[f+1],complete:e[f+2]},W1(i._query)}return function(V,B,W,K){const q=new V1(K),ye=new h1(B,q,W);return V.asyncQueue.enqueueAndForget(async()=>a1(await dm(V),ye)),()=>{q.eu(),V.asyncQueue.enqueueAndForget(async()=>l1(await dm(V),ye))}}(jg(E),w,m,y)}function of(i,e){return function(s,a){const c=new Vi;return s.asyncQueue.enqueueAndForget(async()=>w1(await x1(s),a,c)),c.promise}(jg(i),e)}function rw(i,e,n){const s=n.docs.get(e._key),a=new Yg(i);return new Xg(i,a,e._key,s,new Wo(n.hasPendingWrites,n.fromCache),e.converter)}function iw(){return new Yh("serverTimestamp")}(function(e,n=!0){(function(a){$s=a})(Vv),ql(new Jo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Bs(new Hv(s.getProvider("auth-internal")),new Kv(s.getProvider("app-check-internal")),function(E,w){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new re($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(E.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ns(xp,"4.7.5",e),Ns(xp,"4.7.5","esm2017")})();const sw={apiKey:"AIzaSyCJpvxFAPlc6qIGPpcpdUBZVIvs_HuAalQ",authDomain:"fir-tutorial-f01fc.firebaseapp.com",projectId:"fir-tutorial-f01fc",storageBucket:"fir-tutorial-f01fc.firebasestorage.app",messagingSenderId:"32306004770",appId:"1:32306004770:web:b21bb4183fdddbfdc65b7b"},ow=km(sw),Ci=O1(ow),Jg=Bg(Ci,"players");Bg(Ci,"games");const aw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20448%20512'%20width='25'%20height='25'%20fill='%236A6A6A'%3e%3cpath%20d='M135.2%2017.7L128%2032%2032%2032C14.3%2032%200%2046.3%200%2064S14.3%2096%2032%2096l384%200c17.7%200%2032-14.3%2032-32s-14.3-32-32-32l-96%200-7.2-14.3C307.4%206.8%20296.3%200%20284.2%200L163.8%200c-12.1%200-23.2%206.8-28.6%2017.7zM416%20128L32%20128%2053.2%20467c1.6%2025.3%2022.6%2045%2047.9%2045l245.8%200c25.3%200%2046.3-19.7%2047.9-45L416%20128z'/%3e%3c/svg%3e",lw=()=>{const[i,e]=jl.useState([]);jl.useEffect(()=>{const w=G1(Jg,K1("score","desc")),C=nw(w,V=>{const B=V.docs.map(W=>({...W.data(),id:W.id}));e(B)});return()=>C()},[]);const n=async w=>{const C=Ds(Ci,"players",w);await ew(C)},s=async(w,C,V)=>{const B=Ds(Ci,"players",w),W=C+1,K=W/(V||1);await Ll(B,{wins:W,score:K})},a=async(w,C,V)=>{const B=Ds(Ci,"players",w);if(C<1)return;const W=C-1,K=W/(V||1);await Ll(B,{wins:W,score:K})},c=async(w,C,V)=>{const B=Ds(Ci,"players",w),W=V+1,K=C/(W||1);await Ll(B,{losses:W,score:K})},f=async(w,C,V)=>{const B=Ds(Ci,"players",w);if(V<1)return;const W=V-1,K=C/(W||1);await Ll(B,{losses:W,score:K})},m=w=>w%1===0?w:parseFloat(w.toFixed(3)),y=w=>{const V=w.target.closest(".player-wrapper");V&&!V.classList.contains("animate-up")&&(V.classList.add("animate-up"),setTimeout(()=>{V.classList.remove("animate-up")},750))},E=w=>{const V=w.target.closest(".player-wrapper");V&&!V.classList.contains("animate-down")&&(V.classList.add("animate-down"),setTimeout(()=>{V.classList.remove("animate-down")},750))};return fe.jsx(fe.Fragment,{children:fe.jsxs("div",{className:"player-list",children:[i.length===0?fe.jsx("h1",{children:"Začít novou hru"}):fe.jsxs("div",{className:"title-wrapper",children:[fe.jsx("h2",{className:"count-box",children:"Jméno"}),fe.jsx("h2",{className:"count-box",children:"Výhry"}),fe.jsx("h2",{className:"count-box",children:"Prohry"}),fe.jsx("h2",{className:"count-box score",children:"Score"})]}),i.map((w,C)=>fe.jsxs("div",{className:"flex player-wrapper",children:[fe.jsx("div",{className:"single-box position",children:fe.jsx("h2",{className:"flex index",children:C+1})}),fe.jsxs("div",{className:"flex player-container",children:[fe.jsx("div",{className:"flex count-box",children:fe.jsx("h2",{children:w.name})}),fe.jsxs("div",{className:"flex count-box",children:[fe.jsx("button",{className:"num-button button",onClick:V=>{s(w.id,w.wins,w.losses),y(V)},children:"+"}),fe.jsx("h2",{children:w.wins}),fe.jsx("button",{className:"num-button button",onClick:V=>{a(w.id,w.wins,w.losses),E(V)},children:"-"})]}),fe.jsxs("div",{className:"flex count-box",children:[fe.jsx("button",{className:"num-button button",onClick:V=>{c(w.id,w.wins,w.losses),E(V)},children:"+"}),fe.jsx("h2",{children:w.losses}),fe.jsx("button",{className:"num-button button",onClick:V=>{f(w.id,w.wins,w.losses),y(V)},children:"-"})]}),fe.jsx("h2",{className:"flex count-box score",children:m(w.score)})]}),fe.jsx("div",{className:"single-box delete-container",children:fe.jsx("button",{className:"delete-button",onClick:()=>{n(w.id)},children:fe.jsx("img",{src:aw,alt:"Delete Player"})})})]},w.id))]})})},uw=()=>{const[i,e]=jl.useState(""),n="Hugh Janus",s=async()=>{i&&(await tw(Jg,{name:i,wins:0,losses:0,score:0,createdAt:iw()||new Date(0)}),e(""))};return fe.jsx(fe.Fragment,{children:fe.jsxs("div",{className:"create-player-container",children:[fe.jsx("input",{className:"cp-input",type:"stringtext",placeholder:n,value:i,onChange:a=>{e(a.target.value)},onKeyDown:a=>{a.key==="Enter"&&s()}}),fe.jsx("button",{onClick:s,className:"cp-button",children:fe.jsx("h2",{children:"+ Přidat hráče"})})]})})},cw="data:image/svg+xml,%3csvg%20width='228'%20height='209'%20viewBox='0%200%20228%20209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='113.565'%20cy='163.878'%20r='32.5112'%20transform='rotate(-120%20113.565%20163.878)'%20fill='%23890E28'/%3e%3ccircle%20cx='79.3061'%20cy='104.539'%20r='32.5112'%20transform='rotate(-120%2079.3061%20104.539)'%20fill='%23890E28'/%3e%3ccircle%20cx='183.451'%20cy='44.4111'%20r='32.5112'%20transform='rotate(-120%20183.451%2044.4111)'%20fill='%23890E28'/%3e%3ccircle%20cx='45.0471'%20cy='45.2008'%20r='32.5112'%20transform='rotate(-120%2045.0471%2045.2008)'%20fill='%23890E28'/%3e%3ccircle%20cx='149.114'%20cy='103.795'%20r='32.5112'%20transform='rotate(-120%20149.114%20103.795)'%20fill='%23890E28'/%3e%3ccircle%20cx='114.855'%20cy='44.4565'%20r='32.5112'%20transform='rotate(-120%20114.855%2044.4565)'%20fill='%23890E28'/%3e%3c/svg%3e",hw=()=>fe.jsx(fe.Fragment,{children:fe.jsxs("div",{className:"logo-container",children:[fe.jsx("h1",{children:"Beerec"}),fe.jsx("img",{src:cw,className:"beerec-shape"})]})}),fw=()=>fe.jsxs(fe.Fragment,{children:[fe.jsx(hw,{}),fe.jsxs("div",{className:"active-game-container",children:[fe.jsx(lw,{}),fe.jsx(uw,{})]})]});function dw(){return fe.jsx(fe.Fragment,{children:fe.jsx(fw,{})})}c_.createRoot(document.getElementById("root")).render(fe.jsx(jl.StrictMode,{children:fe.jsx(dw,{})}));
